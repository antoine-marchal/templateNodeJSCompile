@echo off
setlocal EnableDelayedExpansion

set "JS=%temp%\embedded_index.js"
set "B64=%temp%\embedded_index.b64"

del "%JS%" 2>nul
del "%B64%" 2>nul
>>"%B64%" echo IyEvdXNyL2Jpbi9lbnYgbm9kZQ0oKCk9Pnt2YXIgZT17MzE3OmU9PnsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXJlcXVpcmUoImNoaWxkX3Byb2Nlc3MiKX0sNDM0OmU9PnsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXJlcXVpcmUoImV2ZW50cyIpfSw4OTY6ZT0+eyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9cmVxdWlyZSgiZnMiKX0sOTI4OmU9PnsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXJlcXVpcmUoInBhdGgiKX0sOTMyOmU9PnsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXJlcXVpcmUoInByb2Nlc3MiKX0sNzg1OmU9PnsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXJlcXVpcmUoInJlYWRsaW5lIil9LDkwOTooZSx0LGkpPT57Y29uc3R7QXJndW1lbnQ6bn09aSgxNTQpO2NvbnN0e0NvbW1hbmQ6c309aSgzNDgpO2NvbnN0e0NvbW1hbmRlckVycm9yOnIsSW52YWxpZEFyZ3VtZW50RXJyb3I6b309aSgxMzUpO2NvbnN0e0hlbHA6YX09aSg3NTQpO2NvbnN0e09wdGlvbjpsfT1pKDI0MCk7dD1lLmV4cG9ydHM9bmV3IHM7dC5wcm9ncmFtPXQ7dC5Db21tYW5kPXM7dC5PcHRpb249bDt0LkFyZ3VtZW50PW47dC5IZWxwPWE7dC5Db21tYW5kZXJFcnJvcj1yO3QuSW52YWxpZEFyZ3VtZW50RXJyb3I9bzt0LkludmFsaWRPcHRpb25Bcmd1bWVudEVycm9yPW99LDE1NDooZSx0LGkpPT57Y29uc3R7SW52YWxpZEFyZ3VtZW50RXJyb3I6bn09aSgxMzUpO2NsYXNzIEFyZ3VtZW50e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5kZXNjcmlwdGlvbj10fHwiIjt0aGlzLnZhcmlhZGljPWZhbHNlO3RoaXMucGFyc2VBcmc9dW5kZWZpbmVkO3RoaXMuZGVmYXVsdFZhbHVlPXVuZGVmaW5lZDt0aGlzLmRlZmF1bHRWYWx1ZURlc2NyaXB0aW9uPXVuZGVmaW5lZDt0aGlzLmFyZ0Nob2ljZXM9dW5kZWZpbmVkO3N3aXRjaChlWzBdKXtjYXNlIjwiOnRoaXMucmVxdWlyZWQ9dHJ1ZTt0aGlzLl9uYW1lPWUuc2xpY2UoMSwtMSk7YnJlYWs7Y2FzZSJbIjp0aGlzLnJlcXVpcmVkPWZhbHNlO3RoaXMuX25hbWU9ZS5zbGljZSgxLC0xKTticmVhaztkZWZhdWx0OnRoaXMucmVxdWlyZWQ9dHJ1ZTt0aGlzLl9uYW1lPWU7YnJlYWt9aWYodGhpcy5fbmFtZS5sZW5ndGg+MyYmdGhpcy5fbmFtZS5zbGljZSgtMyk9PT0iLi4uIil7dGhpcy52YXJpYWRpYz10cnVlO3RoaXMuX25hbWU9dGhpcy5fbmFtZS5zbGljZSgwLC0zKX19bmFtZSgpe3JldHVybiB0aGlzLl9uYW1lfV9jb25jYXRWYWx1ZShlLHQpe2lmKHQ9PT10aGlzLmRlZmF1bHRWYWx1ZXx8IUFycmF5LmlzQXJyYXkodCkpe3JldHVybltlXX1yZXR1cm4gdC5jb25jYXQoZSl9ZGVmYXVsdChlLHQpe3RoaXMuZGVmYXVsdFZhbHVlPWU7dGhpcy5kZWZhdWx0VmFsdWVEZXNjcmlwdGlvbj10O3JldHVybiB0aGlzfWFyZ1BhcnNlcihlKXt0aGlzLnBhcnNlQXJnPWU7cmV0dXJuIHRoaXN9Y2hvaWNlcyhlKXt0aGlzLmFyZ0Nob2ljZXM9ZS5zbGljZSgpO3RoaXMucGFyc2VBcmc9KGUsdCk9PntpZighdGhpcy5hcmdDaG9pY2VzLmluY2x1ZGVzKGUpKXt0aHJvdyBuZXcgbihgQWxsb3dlZCBjaG9pY2VzIGFyZSAke3RoaXMuYXJnQ2hvaWNlcy5qb2luKCIsICIpfS5gKX1pZih0aGlzLnZhcmlhZGljKXtyZXR1cm4gdGhpcy5fY29uY2F0VmFsdWUoZSx0KX1yZXR1cm4gZX07cmV0dXJuIHRoaXN9YXJnUmVxdWlyZWQoKXt0aGlzLnJlcXVpcmVkPXRydWU7cmV0dXJuIHRoaXN9YXJnT3B0aW9uYWwoKXt0aGlzLnJlcXVpcmVkPWZhbHNlO3JldHVybiB0aGlzfX1mdW5jdGlvbiBodW1hblJlYWRhYmxlQXJnTmFtZShlKXtjb25zdCB0PWUubmFtZSgpKyhlLnZhcmlhZGljPT09dHJ1ZT8iLi4uIjoiIik7cmV0dXJuIGUucmVxdWlyZWQ/IjwiK3QrIj4iOiJbIit0KyJdIn10LkFyZ3VtZW50PUFyZ3VtZW50O3QuaHVtYW5SZWFkYWJsZUFyZ05hbWU9aHVtYW5SZWFkYWJsZUFyZ05hbWV9LDM0ODooZSx0LGkpPT57Y29uc3Qgbj1pKDQzNCkuRXZlbnRFbWl0dGVyO2NvbnN0IHM9aSgzMTcpO2NvbnN0IHI9aSg5MjgpO2NvbnN0IG89aSg4OTYpO2NvbnN0IGE9aSg5MzIpO2NvbnN0e0FyZ3VtZW50OmwsaHVtYW5SZWFkYWJsZUFyZ05hbWU6aH09aSgxNTQpO2NvbnN0e0NvbW1hbmRlckVycm9yOnV9PWkoMTM1KTtjb25zdHtIZWxwOmN9PWkoNzU0KTtjb25zdHtPcHRpb246cCxzcGxpdE9wdGlvbkZsYWdzOm0sRHVhbE9wdGlvbnM6ZH09aSgyNDApO2NvbnN0e3N1Z2dlc3RTaW1pbGFyOmZ9PWkoMzApO2NsYXNzIENvbW1hbmQgZXh0ZW5kcyBue2NvbnN0cnVjdG9yKGUpe3N1cGVyKCk7dGhpcy5jb21tYW5kcz1bXTt0aGlzLm9wdGlvbnM9W107dGhpcy5wYXJlbnQ9bnVsbDt0aGlzLl9hbGxvd1Vua25vd25PcHRpb249ZmFsc2U7dGhpcy5fYWxsb3dFeGNlc3NBcmd1bWVudHM9dHJ1ZTt0aGlzLnJlZ2lzdGVyZWRBcmd1bWVudHM9W107dGhpcy5fYXJncz10aGlzLnJlZ2lzdGVyZWRBcmd1bWVudHM7dGhpcy5hcmdzPVtdO3RoaXMucmF3QXJncz1bXTt0aGlzLnByb2Nlc3NlZEFyZ3M9W107dGhpcy5fc2NyaXB0UGF0aD1udWxsO3RoaXMuX25hbWU9ZXx8IiI7dGhpcy5fb3B0aW9uVmFsdWVzPXt9O3RoaXMuX29wdGlvblZhbHVlU291cmNlcz17fTt0aGlzLl9zdG9yZU9wdGlvbnNBc1Byb3BlcnRpZXM9ZmFsc2U7dGhpcy5fYWN0aW9uSGFuZGxlcj1udWxsO3RoaXMuX2V4ZWN1dGFibGVIYW5kbGVyPWZhbHNlO3RoaXMuX2V4ZWN1dGFibGVGaWxlPW51bGw7dGhpcy5fZXhlY3V0YWJsZURpcj1udWxsO3RoaXMuX2RlZmF1bHRDb21tYW5kTmFtZT1udWxsO3RoaXMuX2V4aXRDYWxsYmFjaz1udWxsO3RoaXMuX2FsaWFzZXM9W107dGhpcy5fY29tYmluZUZsYWdBbmRPcHRpb25hbFZhbHVlPXRydWU7dGhpcy5fZGVzY3JpcHRpb249IiI7dGhpcy5fc3VtbWFyeT0iIjt0aGlzLl9hcmdzRGVzY3JpcHRpb249dW5kZWZpbmVkO3RoaXMuX2VuYWJsZVBvc2l0aW9uYWxPcHRpb25zPWZhbHNlO3RoaXMuX3Bhc3NUaHJvdWdoT3B0aW9ucz1mYWxzZTt0aGlzLl9saWZlQ3ljbGVIb29rcz17fTt0aGlzLl9zaG93SGVscEFmdGVyRXJyb3I9ZmFsc2U7dGhpcy5fc2hvd1N1Z2dlc3Rpb25BZnRlckVycm9yPXRydWU7dGhpcy5fb3V0cHV0Q29uZmlndXJhdGlvbj17d3JpdGVPdXQ6ZT0+YS5zdGRvdXQud3JpdGUoZSksd3JpdGVFcnI6ZT0+YS5zdGRlcnIud3JpdGUoZSksZ2V0T3V0SGVscFdpZHRoOigpPT5hLnN0ZG91dC5pc1RUWT9hLnN0ZG91dC5jb2x1bW5zOnVuZGVmaW5lZCxnZXRFcnJIZWxwV2lkdGg6KCk9PmEuc3RkZXJyLmlzVFRZP2Euc3RkZXJyLmNvbHVtbnM6dW5kZWZpbmVkLG91dHB1dEVycm9yOihlLHQpPT50KGUpfTt0aGlzLl9oaWRkZW49ZmFsc2U7dGhpcy5faGFzSGVscE9wdGlvbj10cnVlO3RoaXMuX2hlbHBGbGFncz0iLWgsIC0taGVscCI7dGhpcy5faGVscERlc2NyaXB0aW9uPSJkaXNwbGF5IGhlbHAgZm9yIGNvbW1hbmQiO3RoaXMuX2hlbHBTaG9ydEZsYWc9Ii1oIjt0aGlzLl9oZWxwTG9uZ0ZsYWc9Ii0taGVscCI7dGhpcy5fYWRkSW1wbGljaXRIZWxwQ29tbWFuZD11bmRlZmluZWQ7dGhpcy5faGVscENvbW1hbmROYW1lPSJoZWxwIjt0aGlzLl9oZWxwQ29tbWFuZG5hbWVBbmRBcmdzPSJoZWxwIFtjb21tYW5kXSI7dGhpcy5faGVscENvbW1hbmREZXNjcmlwdGlvbj0iZGlzcGxheSBoZWxwIGZvciBjb21tYW5kIjt0aGlzLl9oZWxwQ29uZmlndXJhdGlvbj17fX1jb3B5SW5oZXJpdGVkU2V0dGluZ3MoZSl7dGhpcy5fb3V0cHV0Q29uZmlndXJhdGlvbj1lLl9vdXRwdXRDb25maWd1cmF0aW9uO3RoaXMuX2hhc0hlbHBPcHRpb249ZS5faGFzSGVscE9wdGlvbjt0aGlzLl9oZWxwRmxhZ3M9ZS5faGVscEZsYWdzO3RoaXMuX2hlbHBEZXNjcmlwdGlvbj1lLl9oZWxwRGVzY3JpcHRpb247dGhpcy5faGVscFNob3J0RmxhZz1lLl9oZWxwU2hvcnRGbGFnO3RoaXMuX2hlbHBMb25nRmxhZz1lLl9oZWxwTG9uZ0ZsYWc7dGhpcy5faGVscENvbW1hbmROYW1lPWUuX2hlbHBDb21tYW5kTmFtZTt0aGlzLl9oZWxwQ29tbWFuZG5hbWVBbmRBcmdzPWUuX2hlbHBDb21tYW5kbmFtZUFuZEFyZ3M7dGhpcy5faGVscENvbW1hbmREZXNjcmlwdGlvbj1lLl9oZWxwQ29tbWFuZERlc2NyaXB0aW9uO3RoaXMuX2hlbHBDb25maWd1cmF0aW9uPWUuX2hlbHBDb25maWd1cmF0aW9uO3RoaXMuX2V4aXRDYWxsYmFjaz1lLl9leGl0Q2FsbGJhY2s7dGhpcy5fc3RvcmVPcHRpb25zQXNQcm9wZXJ0aWVzPWUuX3N0b3JlT3B0aW9uc0FzUHJvcGVydGllczt0aGlzLl9jb21iaW5lRmxhZ0FuZE9wdGlvbmFsVmFsdWU9ZS5fY29tYmluZUZsYWdBbmRPcHRpb25hbFZhbHVlO3RoaXMuX2FsbG93RXhjZXNzQXJndW1lbnRzPWUuX2FsbG93RXhjZXNzQXJndW1lbnRzO3RoaXMuX2VuYWJsZVBvc2l0aW9uYWxPcHRpb25zPWUuX2VuYWJsZVBvc2l0aW9uYWxPcHRpb25zO3RoaXMuX3Nob3dIZWxwQWZ0ZXJFcnJvcj1lLl9zaG93SGVscEFmdGVyRXJyb3I7dGhpcy5fc2hvd1N1Z2dlc3Rpb25BZnRlckVycm9yPWUuX3Nob3dTdWdnZXN0aW9uQWZ0ZXJFcnJvcjtyZXR1cm4gdGhpc31fZ2V0Q29tbWFuZEFuZEFuY2VzdG9ycygpe2NvbnN0IGU9W107Zm9yKGxldCB0PXRoaXM7dDt0PXQucGFyZW50KXtlLnB1c2godCl9cmV0dXJuIGV9Y29tbWFuZChlLHQsaSl7bGV0IG49dDtsZXQgcz1pO2lmKHR5cGVvZiBuPT09Im9iamVjdCImJm4hPT1udWxsKXtzPW47bj1udWxsfXM9c3x8e307Y29uc3RbLHIsb109ZS5tYXRjaCgvKFteIF0rKSAqKC4qKS8pO2NvbnN0IGE9dGhpcy5jcmVhdGVDb21tYW5kKHIpO2lmKG4pe2EuZGVzY3JpcHRpb24obik7YS5fZXhlY3V0YWJsZUhhbmRsZXI9dHJ1ZX1pZihzLmlzRGVmYXVsdCl0aGlzLl9kZWZhdWx0Q29tbWFuZE5hbWU9YS5fbmFtZTthLl9oaWRkZW49ISEocy5ub0hlbHB8fHMuaGlkZGVuKTthLl9leGVjdXRhYmxlRmlsZT1zLmV4ZWN1dGFibGVGaWxlfHxudWxsO2lmKG8pYS5hcmd1bWVudHMobyk7dGhpcy5jb21tYW5kcy5wdXNoKGEpO2EucGFyZW50PXRoaXM7YS5jb3B5SW5oZXJpdGVkU2V0dGluZ3ModGhpcyk7aWYobilyZXR1cm4gdGhpcztyZXR1cm4gYX1jcmVhdGVDb21tYW5kKGUpe3JldHVybiBuZXcgQ29tbWFuZChlKX1jcmVhdGVIZWxwKCl7cmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IGMsdGhpcy5jb25maWd1cmVIZWxwKCkpfWNvbmZpZ3VyZUhlbHAoZSl7aWYoZT09PXVuZGVmaW5lZClyZXR1cm4gdGhpcy5faGVscENvbmZpZ3VyYXRpb247dGhpcy5faGVscENvbmZpZ3VyYXRpb249ZTtyZXR1cm4gdGhpc31jb25maWd1cmVPdXRwdXQoZSl7aWYoZT09PXVuZGVmaW5lZClyZXR1
>>"%B64%" echo cm4gdGhpcy5fb3V0cHV0Q29uZmlndXJhdGlvbjtPYmplY3QuYXNzaWduKHRoaXMuX291dHB1dENvbmZpZ3VyYXRpb24sZSk7cmV0dXJuIHRoaXN9c2hvd0hlbHBBZnRlckVycm9yKGU9dHJ1ZSl7aWYodHlwZW9mIGUhPT0ic3RyaW5nIillPSEhZTt0aGlzLl9zaG93SGVscEFmdGVyRXJyb3I9ZTtyZXR1cm4gdGhpc31zaG93U3VnZ2VzdGlvbkFmdGVyRXJyb3IoZT10cnVlKXt0aGlzLl9zaG93U3VnZ2VzdGlvbkFmdGVyRXJyb3I9ISFlO3JldHVybiB0aGlzfWFkZENvbW1hbmQoZSx0KXtpZighZS5fbmFtZSl7dGhyb3cgbmV3IEVycm9yKGBDb21tYW5kIHBhc3NlZCB0byAuYWRkQ29tbWFuZCgpIG11c3QgaGF2ZSBhIG5hbWVcbi0gc3BlY2lmeSB0aGUgbmFtZSBpbiBDb21tYW5kIGNvbnN0cnVjdG9yIG9yIHVzaW5nIC5uYW1lKClgKX10PXR8fHt9O2lmKHQuaXNEZWZhdWx0KXRoaXMuX2RlZmF1bHRDb21tYW5kTmFtZT1lLl9uYW1lO2lmKHQubm9IZWxwfHx0LmhpZGRlbillLl9oaWRkZW49dHJ1ZTt0aGlzLmNvbW1hbmRzLnB1c2goZSk7ZS5wYXJlbnQ9dGhpcztyZXR1cm4gdGhpc31jcmVhdGVBcmd1bWVudChlLHQpe3JldHVybiBuZXcgbChlLHQpfWFyZ3VtZW50KGUsdCxpLG4pe2NvbnN0IHM9dGhpcy5jcmVhdGVBcmd1bWVudChlLHQpO2lmKHR5cGVvZiBpPT09ImZ1bmN0aW9uIil7cy5kZWZhdWx0KG4pLmFyZ1BhcnNlcihpKX1lbHNle3MuZGVmYXVsdChpKX10aGlzLmFkZEFyZ3VtZW50KHMpO3JldHVybiB0aGlzfWFyZ3VtZW50cyhlKXtlLnRyaW0oKS5zcGxpdCgvICsvKS5mb3JFYWNoKChlPT57dGhpcy5hcmd1bWVudChlKX0pKTtyZXR1cm4gdGhpc31hZGRBcmd1bWVudChlKXtjb25zdCB0PXRoaXMucmVnaXN0ZXJlZEFyZ3VtZW50cy5zbGljZSgtMSlbMF07aWYodCYmdC52YXJpYWRpYyl7dGhyb3cgbmV3IEVycm9yKGBvbmx5IHRoZSBsYXN0IGFyZ3VtZW50IGNhbiBiZSB2YXJpYWRpYyAnJHt0Lm5hbWUoKX0nYCl9aWYoZS5yZXF1aXJlZCYmZS5kZWZhdWx0VmFsdWUhPT11bmRlZmluZWQmJmUucGFyc2VBcmc9PT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihgYSBkZWZhdWx0IHZhbHVlIGZvciBhIHJlcXVpcmVkIGFyZ3VtZW50IGlzIG5ldmVyIHVzZWQ6ICcke2UubmFtZSgpfSdgKX10aGlzLnJlZ2lzdGVyZWRBcmd1bWVudHMucHVzaChlKTtyZXR1cm4gdGhpc31hZGRIZWxwQ29tbWFuZChlLHQpe2lmKGU9PT1mYWxzZSl7dGhpcy5fYWRkSW1wbGljaXRIZWxwQ29tbWFuZD1mYWxzZX1lbHNle3RoaXMuX2FkZEltcGxpY2l0SGVscENvbW1hbmQ9dHJ1ZTtpZih0eXBlb2YgZT09PSJzdHJpbmciKXt0aGlzLl9oZWxwQ29tbWFuZE5hbWU9ZS5zcGxpdCgiICIpWzBdO3RoaXMuX2hlbHBDb21tYW5kbmFtZUFuZEFyZ3M9ZX10aGlzLl9oZWxwQ29tbWFuZERlc2NyaXB0aW9uPXR8fHRoaXMuX2hlbHBDb21tYW5kRGVzY3JpcHRpb259cmV0dXJuIHRoaXN9X2hhc0ltcGxpY2l0SGVscENvbW1hbmQoKXtpZih0aGlzLl9hZGRJbXBsaWNpdEhlbHBDb21tYW5kPT09dW5kZWZpbmVkKXtyZXR1cm4gdGhpcy5jb21tYW5kcy5sZW5ndGgmJiF0aGlzLl9hY3Rpb25IYW5kbGVyJiYhdGhpcy5fZmluZENvbW1hbmQoImhlbHAiKX1yZXR1cm4gdGhpcy5fYWRkSW1wbGljaXRIZWxwQ29tbWFuZH1ob29rKGUsdCl7Y29uc3QgaT1bInByZVN1YmNvbW1hbmQiLCJwcmVBY3Rpb24iLCJwb3N0QWN0aW9uIl07aWYoIWkuaW5jbHVkZXMoZSkpe3Rocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB2YWx1ZSBmb3IgZXZlbnQgcGFzc2VkIHRvIGhvb2sgOiAnJHtlfScuXG5FeHBlY3Rpbmcgb25lIG9mICcke2kuam9pbigiJywgJyIpfSdgKX1pZih0aGlzLl9saWZlQ3ljbGVIb29rc1tlXSl7dGhpcy5fbGlmZUN5Y2xlSG9va3NbZV0ucHVzaCh0KX1lbHNle3RoaXMuX2xpZmVDeWNsZUhvb2tzW2VdPVt0XX1yZXR1cm4gdGhpc31leGl0T3ZlcnJpZGUoZSl7aWYoZSl7dGhpcy5fZXhpdENhbGxiYWNrPWV9ZWxzZXt0aGlzLl9leGl0Q2FsbGJhY2s9ZT0+e2lmKGUuY29kZSE9PSJjb21tYW5kZXIuZXhlY3V0ZVN1YkNvbW1hbmRBc3luYyIpe3Rocm93IGV9ZWxzZXt9fX1yZXR1cm4gdGhpc31fZXhpdChlLHQsaSl7aWYodGhpcy5fZXhpdENhbGxiYWNrKXt0aGlzLl9leGl0Q2FsbGJhY2sobmV3IHUoZSx0LGkpKX1hLmV4aXQoZSl9YWN0aW9uKGUpe2NvbnN0IGxpc3RlbmVyPXQ9Pntjb25zdCBpPXRoaXMucmVnaXN0ZXJlZEFyZ3VtZW50cy5sZW5ndGg7Y29uc3Qgbj10LnNsaWNlKDAsaSk7aWYodGhpcy5fc3RvcmVPcHRpb25zQXNQcm9wZXJ0aWVzKXtuW2ldPXRoaXN9ZWxzZXtuW2ldPXRoaXMub3B0cygpfW4ucHVzaCh0aGlzKTtyZXR1cm4gZS5hcHBseSh0aGlzLG4pfTt0aGlzLl9hY3Rpb25IYW5kbGVyPWxpc3RlbmVyO3JldHVybiB0aGlzfWNyZWF0ZU9wdGlvbihlLHQpe3JldHVybiBuZXcgcChlLHQpfV9jYWxsUGFyc2VBcmcoZSx0LGksbil7dHJ5e3JldHVybiBlLnBhcnNlQXJnKHQsaSl9Y2F0Y2goZSl7aWYoZS5jb2RlPT09ImNvbW1hbmRlci5pbnZhbGlkQXJndW1lbnQiKXtjb25zdCB0PWAke259ICR7ZS5tZXNzYWdlfWA7dGhpcy5lcnJvcih0LHtleGl0Q29kZTplLmV4aXRDb2RlLGNvZGU6ZS5jb2RlfSl9dGhyb3cgZX19YWRkT3B0aW9uKGUpe2NvbnN0IHQ9ZS5uYW1lKCk7Y29uc3QgaT1lLmF0dHJpYnV0ZU5hbWUoKTtpZihlLm5lZ2F0ZSl7Y29uc3QgdD1lLmxvbmcucmVwbGFjZSgvXi0tbm8tLywiLS0iKTtpZighdGhpcy5fZmluZE9wdGlvbih0KSl7dGhpcy5zZXRPcHRpb25WYWx1ZVdpdGhTb3VyY2UoaSxlLmRlZmF1bHRWYWx1ZT09PXVuZGVmaW5lZD90cnVlOmUuZGVmYXVsdFZhbHVlLCJkZWZhdWx0Iil9fWVsc2UgaWYoZS5kZWZhdWx0VmFsdWUhPT11bmRlZmluZWQpe3RoaXMuc2V0T3B0aW9uVmFsdWVXaXRoU291cmNlKGksZS5kZWZhdWx0VmFsdWUsImRlZmF1bHQiKX10aGlzLm9wdGlvbnMucHVzaChlKTtjb25zdCBoYW5kbGVPcHRpb25WYWx1ZT0odCxuLHMpPT57aWYodD09bnVsbCYmZS5wcmVzZXRBcmchPT11bmRlZmluZWQpe3Q9ZS5wcmVzZXRBcmd9Y29uc3Qgcj10aGlzLmdldE9wdGlvblZhbHVlKGkpO2lmKHQhPT1udWxsJiZlLnBhcnNlQXJnKXt0PXRoaXMuX2NhbGxQYXJzZUFyZyhlLHQscixuKX1lbHNlIGlmKHQhPT1udWxsJiZlLnZhcmlhZGljKXt0PWUuX2NvbmNhdFZhbHVlKHQscil9aWYodD09bnVsbCl7aWYoZS5uZWdhdGUpe3Q9ZmFsc2V9ZWxzZSBpZihlLmlzQm9vbGVhbigpfHxlLm9wdGlvbmFsKXt0PXRydWV9ZWxzZXt0PSIifX10aGlzLnNldE9wdGlvblZhbHVlV2l0aFNvdXJjZShpLHQscyl9O3RoaXMub24oIm9wdGlvbjoiK3QsKHQ9Pntjb25zdCBpPWBlcnJvcjogb3B0aW9uICcke2UuZmxhZ3N9JyBhcmd1bWVudCAnJHt0fScgaXMgaW52YWxpZC5gO2hhbmRsZU9wdGlvblZhbHVlKHQsaSwiY2xpIil9KSk7aWYoZS5lbnZWYXIpe3RoaXMub24oIm9wdGlvbkVudjoiK3QsKHQ9Pntjb25zdCBpPWBlcnJvcjogb3B0aW9uICcke2UuZmxhZ3N9JyB2YWx1ZSAnJHt0fScgZnJvbSBlbnYgJyR7ZS5lbnZWYXJ9JyBpcyBpbnZhbGlkLmA7aGFuZGxlT3B0aW9uVmFsdWUodCxpLCJlbnYiKX0pKX1yZXR1cm4gdGhpc31fb3B0aW9uRXgoZSx0LGksbixzKXtpZih0eXBlb2YgdD09PSJvYmplY3QiJiZ0IGluc3RhbmNlb2YgcCl7dGhyb3cgbmV3IEVycm9yKCJUbyBhZGQgYW4gT3B0aW9uIG9iamVjdCB1c2UgYWRkT3B0aW9uKCkgaW5zdGVhZCBvZiBvcHRpb24oKSBvciByZXF1aXJlZE9wdGlvbigpIil9Y29uc3Qgcj10aGlzLmNyZWF0ZU9wdGlvbih0LGkpO3IubWFrZU9wdGlvbk1hbmRhdG9yeSghIWUubWFuZGF0b3J5KTtpZih0eXBlb2Ygbj09PSJmdW5jdGlvbiIpe3IuZGVmYXVsdChzKS5hcmdQYXJzZXIobil9ZWxzZSBpZihuIGluc3RhbmNlb2YgUmVnRXhwKXtjb25zdCBlPW47bj0odCxpKT0+e2NvbnN0IG49ZS5leGVjKHQpO3JldHVybiBuP25bMF06aX07ci5kZWZhdWx0KHMpLmFyZ1BhcnNlcihuKX1lbHNle3IuZGVmYXVsdChuKX1yZXR1cm4gdGhpcy5hZGRPcHRpb24ocil9b3B0aW9uKGUsdCxpLG4pe3JldHVybiB0aGlzLl9vcHRpb25FeCh7fSxlLHQsaSxuKX1yZXF1aXJlZE9wdGlvbihlLHQsaSxuKXtyZXR1cm4gdGhpcy5fb3B0aW9uRXgoe21hbmRhdG9yeTp0cnVlfSxlLHQsaSxuKX1jb21iaW5lRmxhZ0FuZE9wdGlvbmFsVmFsdWUoZT10cnVlKXt0aGlzLl9jb21iaW5lRmxhZ0FuZE9wdGlvbmFsVmFsdWU9ISFlO3JldHVybiB0aGlzfWFsbG93VW5rbm93bk9wdGlvbihlPXRydWUpe3RoaXMuX2FsbG93VW5rbm93bk9wdGlvbj0hIWU7cmV0dXJuIHRoaXN9YWxsb3dFeGNlc3NBcmd1bWVudHMoZT10cnVlKXt0aGlzLl9hbGxvd0V4Y2Vzc0FyZ3VtZW50cz0hIWU7cmV0dXJuIHRoaXN9ZW5hYmxlUG9zaXRpb25hbE9wdGlvbnMoZT10cnVlKXt0aGlzLl9lbmFibGVQb3NpdGlvbmFsT3B0aW9ucz0hIWU7cmV0dXJuIHRoaXN9cGFzc1Rocm91Z2hPcHRpb25zKGU9dHJ1ZSl7dGhpcy5fcGFzc1Rocm91Z2hPcHRpb25zPSEhZTtpZighIXRoaXMucGFyZW50JiZlJiYhdGhpcy5wYXJlbnQuX2VuYWJsZVBvc2l0aW9uYWxPcHRpb25zKXt0aHJvdyBuZXcgRXJyb3IoInBhc3NUaHJvdWdoT3B0aW9ucyBjYW4gbm90IGJlIHVzZWQgd2l0aG91dCB0dXJuaW5nIG9uIGVuYWJsZVBvc2l0aW9uYWxPcHRpb25zIGZvciBwYXJlbnQgY29tbWFuZChzKSIpfXJldHVybiB0aGlzfXN0b3JlT3B0aW9uc0FzUHJvcGVydGllcyhlPXRydWUpe2lmKHRoaXMub3B0aW9ucy5sZW5ndGgpe3Rocm93IG5ldyBFcnJvcigiY2FsbCAuc3RvcmVPcHRpb25zQXNQcm9wZXJ0aWVzKCkgYmVmb3JlIGFkZGluZyBvcHRpb25zIil9dGhpcy5fc3RvcmVPcHRpb25zQXNQcm9wZXJ0aWVzPSEhZTtyZXR1cm4gdGhpc31nZXRPcHRpb25WYWx1ZShlKXtpZih0aGlzLl9zdG9yZU9wdGlvbnNBc1Byb3BlcnRpZXMpe3JldHVybiB0aGlzW2VdfXJldHVybiB0aGlzLl9vcHRpb25WYWx1ZXNbZV19c2V0T3B0aW9uVmFsdWUoZSx0KXtyZXR1cm4gdGhpcy5zZXRPcHRpb25WYWx1ZVdpdGhTb3VyY2UoZSx0LHVuZGVmaW5lZCl9c2V0T3B0aW9uVmFsdWVXaXRoU291cmNlKGUsdCxpKXtpZih0aGlzLl9zdG9yZU9wdGlvbnNBc1Byb3BlcnRpZXMpe3RoaXNbZV09dH1lbHNle3RoaXMuX29wdGlvblZhbHVlc1tlXT10fXRoaXMuX29wdGlvblZhbHVlU291cmNlc1tlXT1pO3JldHVybiB0aGlzfWdldE9wdGlvblZhbHVlU291cmNlKGUpe3JldHVybiB0aGlzLl9vcHRpb25WYWx1ZVNvdXJjZXNbZV19
>>"%B64%" echo Z2V0T3B0aW9uVmFsdWVTb3VyY2VXaXRoR2xvYmFscyhlKXtsZXQgdDt0aGlzLl9nZXRDb21tYW5kQW5kQW5jZXN0b3JzKCkuZm9yRWFjaCgoaT0+e2lmKGkuZ2V0T3B0aW9uVmFsdWVTb3VyY2UoZSkhPT11bmRlZmluZWQpe3Q9aS5nZXRPcHRpb25WYWx1ZVNvdXJjZShlKX19KSk7cmV0dXJuIHR9X3ByZXBhcmVVc2VyQXJncyhlLHQpe2lmKGUhPT11bmRlZmluZWQmJiFBcnJheS5pc0FycmF5KGUpKXt0aHJvdyBuZXcgRXJyb3IoImZpcnN0IHBhcmFtZXRlciB0byBwYXJzZSBtdXN0IGJlIGFycmF5IG9yIHVuZGVmaW5lZCIpfXQ9dHx8e307aWYoZT09PXVuZGVmaW5lZCl7ZT1hLmFyZ3Y7aWYoYS52ZXJzaW9ucyYmYS52ZXJzaW9ucy5lbGVjdHJvbil7dC5mcm9tPSJlbGVjdHJvbiJ9fXRoaXMucmF3QXJncz1lLnNsaWNlKCk7bGV0IGk7c3dpdGNoKHQuZnJvbSl7Y2FzZSB1bmRlZmluZWQ6Y2FzZSJub2RlIjp0aGlzLl9zY3JpcHRQYXRoPWVbMV07aT1lLnNsaWNlKDIpO2JyZWFrO2Nhc2UiZWxlY3Ryb24iOmlmKGEuZGVmYXVsdEFwcCl7dGhpcy5fc2NyaXB0UGF0aD1lWzFdO2k9ZS5zbGljZSgyKX1lbHNle2k9ZS5zbGljZSgxKX1icmVhaztjYXNlInVzZXIiOmk9ZS5zbGljZSgwKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgdW5leHBlY3RlZCBwYXJzZSBvcHRpb24geyBmcm9tOiAnJHt0LmZyb219JyB9YCl9aWYoIXRoaXMuX25hbWUmJnRoaXMuX3NjcmlwdFBhdGgpdGhpcy5uYW1lRnJvbUZpbGVuYW1lKHRoaXMuX3NjcmlwdFBhdGgpO3RoaXMuX25hbWU9dGhpcy5fbmFtZXx8InByb2dyYW0iO3JldHVybiBpfXBhcnNlKGUsdCl7Y29uc3QgaT10aGlzLl9wcmVwYXJlVXNlckFyZ3MoZSx0KTt0aGlzLl9wYXJzZUNvbW1hbmQoW10saSk7cmV0dXJuIHRoaXN9YXN5bmMgcGFyc2VBc3luYyhlLHQpe2NvbnN0IGk9dGhpcy5fcHJlcGFyZVVzZXJBcmdzKGUsdCk7YXdhaXQgdGhpcy5fcGFyc2VDb21tYW5kKFtdLGkpO3JldHVybiB0aGlzfV9leGVjdXRlU3ViQ29tbWFuZChlLHQpe3Q9dC5zbGljZSgpO2xldCBpPWZhbHNlO2NvbnN0IG49WyIuanMiLCIudHMiLCIudHN4IiwiLm1qcyIsIi5janMiXTtmdW5jdGlvbiBmaW5kRmlsZShlLHQpe2NvbnN0IGk9ci5yZXNvbHZlKGUsdCk7aWYoby5leGlzdHNTeW5jKGkpKXJldHVybiBpO2lmKG4uaW5jbHVkZXMoci5leHRuYW1lKHQpKSlyZXR1cm4gdW5kZWZpbmVkO2NvbnN0IHM9bi5maW5kKChlPT5vLmV4aXN0c1N5bmMoYCR7aX0ke2V9YCkpKTtpZihzKXJldHVybmAke2l9JHtzfWA7cmV0dXJuIHVuZGVmaW5lZH10aGlzLl9jaGVja0Zvck1pc3NpbmdNYW5kYXRvcnlPcHRpb25zKCk7dGhpcy5fY2hlY2tGb3JDb25mbGljdGluZ09wdGlvbnMoKTtsZXQgbD1lLl9leGVjdXRhYmxlRmlsZXx8YCR7dGhpcy5fbmFtZX0tJHtlLl9uYW1lfWA7bGV0IGg9dGhpcy5fZXhlY3V0YWJsZURpcnx8IiI7aWYodGhpcy5fc2NyaXB0UGF0aCl7bGV0IGU7dHJ5e2U9by5yZWFscGF0aFN5bmModGhpcy5fc2NyaXB0UGF0aCl9Y2F0Y2godCl7ZT10aGlzLl9zY3JpcHRQYXRofWg9ci5yZXNvbHZlKHIuZGlybmFtZShlKSxoKX1pZihoKXtsZXQgdD1maW5kRmlsZShoLGwpO2lmKCF0JiYhZS5fZXhlY3V0YWJsZUZpbGUmJnRoaXMuX3NjcmlwdFBhdGgpe2NvbnN0IGk9ci5iYXNlbmFtZSh0aGlzLl9zY3JpcHRQYXRoLHIuZXh0bmFtZSh0aGlzLl9zY3JpcHRQYXRoKSk7aWYoaSE9PXRoaXMuX25hbWUpe3Q9ZmluZEZpbGUoaCxgJHtpfS0ke2UuX25hbWV9YCl9fWw9dHx8bH1pPW4uaW5jbHVkZXMoci5leHRuYW1lKGwpKTtsZXQgYztpZihhLnBsYXRmb3JtIT09IndpbjMyIil7aWYoaSl7dC51bnNoaWZ0KGwpO3Q9aW5jcmVtZW50Tm9kZUluc3BlY3RvclBvcnQoYS5leGVjQXJndikuY29uY2F0KHQpO2M9cy5zcGF3bihhLmFyZ3ZbMF0sdCx7c3RkaW86ImluaGVyaXQifSl9ZWxzZXtjPXMuc3Bhd24obCx0LHtzdGRpbzoiaW5oZXJpdCJ9KX19ZWxzZXt0LnVuc2hpZnQobCk7dD1pbmNyZW1lbnROb2RlSW5zcGVjdG9yUG9ydChhLmV4ZWNBcmd2KS5jb25jYXQodCk7Yz1zLnNwYXduKGEuZXhlY1BhdGgsdCx7c3RkaW86ImluaGVyaXQifSl9aWYoIWMua2lsbGVkKXtjb25zdCBlPVsiU0lHVVNSMSIsIlNJR1VTUjIiLCJTSUdURVJNIiwiU0lHSU5UIiwiU0lHSFVQIl07ZS5mb3JFYWNoKChlPT57YS5vbihlLCgoKT0+e2lmKGMua2lsbGVkPT09ZmFsc2UmJmMuZXhpdENvZGU9PT1udWxsKXtjLmtpbGwoZSl9fSkpfSkpfWNvbnN0IHA9dGhpcy5fZXhpdENhbGxiYWNrO2lmKCFwKXtjLm9uKCJjbG9zZSIsYS5leGl0LmJpbmQoYSkpfWVsc2V7Yy5vbigiY2xvc2UiLCgoKT0+e3AobmV3IHUoYS5leGl0Q29kZXx8MCwiY29tbWFuZGVyLmV4ZWN1dGVTdWJDb21tYW5kQXN5bmMiLCIoY2xvc2UpIikpfSkpfWMub24oImVycm9yIiwodD0+e2lmKHQuY29kZT09PSJFTk9FTlQiKXtjb25zdCB0PWg/YHNlYXJjaGVkIGZvciBsb2NhbCBzdWJjb21tYW5kIHJlbGF0aXZlIHRvIGRpcmVjdG9yeSAnJHtofSdgOiJubyBkaXJlY3RvcnkgZm9yIHNlYXJjaCBmb3IgbG9jYWwgc3ViY29tbWFuZCwgdXNlIC5leGVjdXRhYmxlRGlyKCkgdG8gc3VwcGx5IGEgY3VzdG9tIGRpcmVjdG9yeSI7Y29uc3QgaT1gJyR7bH0nIGRvZXMgbm90IGV4aXN0XG4gLSBpZiAnJHtlLl9uYW1lfScgaXMgbm90IG1lYW50IHRvIGJlIGFuIGV4ZWN1dGFibGUgY29tbWFuZCwgcmVtb3ZlIGRlc2NyaXB0aW9uIHBhcmFtZXRlciBmcm9tICcuY29tbWFuZCgpJyBhbmQgdXNlICcuZGVzY3JpcHRpb24oKScgaW5zdGVhZFxuIC0gaWYgdGhlIGRlZmF1bHQgZXhlY3V0YWJsZSBuYW1lIGlzIG5vdCBzdWl0YWJsZSwgdXNlIHRoZSBleGVjdXRhYmxlRmlsZSBvcHRpb24gdG8gc3VwcGx5IGEgY3VzdG9tIG5hbWUgb3IgcGF0aFxuIC0gJHt0fWA7dGhyb3cgbmV3IEVycm9yKGkpfWVsc2UgaWYodC5jb2RlPT09IkVBQ0NFUyIpe3Rocm93IG5ldyBFcnJvcihgJyR7bH0nIG5vdCBleGVjdXRhYmxlYCl9aWYoIXApe2EuZXhpdCgxKX1lbHNle2NvbnN0IGU9bmV3IHUoMSwiY29tbWFuZGVyLmV4ZWN1dGVTdWJDb21tYW5kQXN5bmMiLCIoZXJyb3IpIik7ZS5uZXN0ZWRFcnJvcj10O3AoZSl9fSkpO3RoaXMucnVubmluZ0NvbW1hbmQ9Y31fZGlzcGF0Y2hTdWJjb21tYW5kKGUsdCxpKXtjb25zdCBuPXRoaXMuX2ZpbmRDb21tYW5kKGUpO2lmKCFuKXRoaXMuaGVscCh7ZXJyb3I6dHJ1ZX0pO2xldCBzO3M9dGhpcy5fY2hhaW5PckNhbGxTdWJDb21tYW5kSG9vayhzLG4sInByZVN1YmNvbW1hbmQiKTtzPXRoaXMuX2NoYWluT3JDYWxsKHMsKCgpPT57aWYobi5fZXhlY3V0YWJsZUhhbmRsZXIpe3RoaXMuX2V4ZWN1dGVTdWJDb21tYW5kKG4sdC5jb25jYXQoaSkpfWVsc2V7cmV0dXJuIG4uX3BhcnNlQ29tbWFuZCh0LGkpfX0pKTtyZXR1cm4gc31fZGlzcGF0Y2hIZWxwQ29tbWFuZChlKXtpZighZSl7dGhpcy5oZWxwKCl9Y29uc3QgdD10aGlzLl9maW5kQ29tbWFuZChlKTtpZih0JiYhdC5fZXhlY3V0YWJsZUhhbmRsZXIpe3QuaGVscCgpfXJldHVybiB0aGlzLl9kaXNwYXRjaFN1YmNvbW1hbmQoZSxbXSxbdGhpcy5faGVscExvbmdGbGFnfHx0aGlzLl9oZWxwU2hvcnRGbGFnXSl9X2NoZWNrTnVtYmVyT2ZBcmd1bWVudHMoKXt0aGlzLnJlZ2lzdGVyZWRBcmd1bWVudHMuZm9yRWFjaCgoKGUsdCk9PntpZihlLnJlcXVpcmVkJiZ0aGlzLmFyZ3NbdF09PW51bGwpe3RoaXMubWlzc2luZ0FyZ3VtZW50KGUubmFtZSgpKX19KSk7aWYodGhpcy5yZWdpc3RlcmVkQXJndW1lbnRzLmxlbmd0aD4wJiZ0aGlzLnJlZ2lzdGVyZWRBcmd1bWVudHNbdGhpcy5yZWdpc3RlcmVkQXJndW1lbnRzLmxlbmd0aC0xXS52YXJpYWRpYyl7cmV0dXJufWlmKHRoaXMuYXJncy5sZW5ndGg+dGhpcy5yZWdpc3RlcmVkQXJndW1lbnRzLmxlbmd0aCl7dGhpcy5fZXhjZXNzQXJndW1lbnRzKHRoaXMuYXJncyl9fV9wcm9jZXNzQXJndW1lbnRzKCl7Y29uc3QgbXlQYXJzZUFyZz0oZSx0LGkpPT57bGV0IG49dDtpZih0IT09bnVsbCYmZS5wYXJzZUFyZyl7Y29uc3Qgcz1gZXJyb3I6IGNvbW1hbmQtYXJndW1lbnQgdmFsdWUgJyR7dH0nIGlzIGludmFsaWQgZm9yIGFyZ3VtZW50ICcke2UubmFtZSgpfScuYDtuPXRoaXMuX2NhbGxQYXJzZUFyZyhlLHQsaSxzKX1yZXR1cm4gbn07dGhpcy5fY2hlY2tOdW1iZXJPZkFyZ3VtZW50cygpO2NvbnN0IGU9W107dGhpcy5yZWdpc3RlcmVkQXJndW1lbnRzLmZvckVhY2goKCh0LGkpPT57bGV0IG49dC5kZWZhdWx0VmFsdWU7aWYodC52YXJpYWRpYyl7aWYoaTx0aGlzLmFyZ3MubGVuZ3RoKXtuPXRoaXMuYXJncy5zbGljZShpKTtpZih0LnBhcnNlQXJnKXtuPW4ucmVkdWNlKCgoZSxpKT0+bXlQYXJzZUFyZyh0LGksZSkpLHQuZGVmYXVsdFZhbHVlKX19ZWxzZSBpZihuPT09dW5kZWZpbmVkKXtuPVtdfX1lbHNlIGlmKGk8dGhpcy5hcmdzLmxlbmd0aCl7bj10aGlzLmFyZ3NbaV07aWYodC5wYXJzZUFyZyl7bj1teVBhcnNlQXJnKHQsbix0LmRlZmF1bHRWYWx1ZSl9fWVbaV09bn0pKTt0aGlzLnByb2Nlc3NlZEFyZ3M9ZX1fY2hhaW5PckNhbGwoZSx0KXtpZihlJiZlLnRoZW4mJnR5cGVvZiBlLnRoZW49PT0iZnVuY3Rpb24iKXtyZXR1cm4gZS50aGVuKCgoKT0+dCgpKSl9cmV0dXJuIHQoKX1fY2hhaW5PckNhbGxIb29rcyhlLHQpe2xldCBpPWU7Y29uc3Qgbj1bXTt0aGlzLl9nZXRDb21tYW5kQW5kQW5jZXN0b3JzKCkucmV2ZXJzZSgpLmZpbHRlcigoZT0+ZS5fbGlmZUN5Y2xlSG9va3NbdF0hPT11bmRlZmluZWQpKS5mb3JFYWNoKChlPT57ZS5fbGlmZUN5Y2xlSG9va3NbdF0uZm9yRWFjaCgodD0+e24ucHVzaCh7aG9va2VkQ29tbWFuZDplLGNhbGxiYWNrOnR9KX0pKX0pKTtpZih0PT09InBvc3RBY3Rpb24iKXtuLnJldmVyc2UoKX1uLmZvckVhY2goKGU9PntpPXRoaXMuX2NoYWluT3JDYWxsKGksKCgpPT5lLmNhbGxiYWNrKGUuaG9va2VkQ29tbWFuZCx0aGlzKSkpfSkpO3JldHVybiBpfV9jaGFpbk9yQ2FsbFN1YkNvbW1hbmRIb29rKGUsdCxpKXtsZXQgbj1lO2lmKHRoaXMuX2xpZmVDeWNsZUhvb2tzW2ldIT09dW5kZWZpbmVkKXt0aGlzLl9saWZlQ3ljbGVIb29rc1tpXS5mb3JFYWNoKChlPT57bj10aGlzLl9jaGFpbk9yQ2FsbChuLCgoKT0+ZSh0aGlzLHQpKSl9KSl9cmV0dXJuIG59X3BhcnNlQ29tbWFuZChlLHQpe2NvbnN0IGk9dGhpcy5wYXJzZU9wdGlvbnModCk7dGhpcy5fcGFyc2VPcHRpb25zRW52KCk7dGhpcy5fcGFyc2VPcHRpb25zSW1wbGllZCgpO2U9ZS5jb25jYXQoaS5vcGVy
>>"%B64%" echo YW5kcyk7dD1pLnVua25vd247dGhpcy5hcmdzPWUuY29uY2F0KHQpO2lmKGUmJnRoaXMuX2ZpbmRDb21tYW5kKGVbMF0pKXtyZXR1cm4gdGhpcy5fZGlzcGF0Y2hTdWJjb21tYW5kKGVbMF0sZS5zbGljZSgxKSx0KX1pZih0aGlzLl9oYXNJbXBsaWNpdEhlbHBDb21tYW5kKCkmJmVbMF09PT10aGlzLl9oZWxwQ29tbWFuZE5hbWUpe3JldHVybiB0aGlzLl9kaXNwYXRjaEhlbHBDb21tYW5kKGVbMV0pfWlmKHRoaXMuX2RlZmF1bHRDb21tYW5kTmFtZSl7b3V0cHV0SGVscElmUmVxdWVzdGVkKHRoaXMsdCk7cmV0dXJuIHRoaXMuX2Rpc3BhdGNoU3ViY29tbWFuZCh0aGlzLl9kZWZhdWx0Q29tbWFuZE5hbWUsZSx0KX1pZih0aGlzLmNvbW1hbmRzLmxlbmd0aCYmdGhpcy5hcmdzLmxlbmd0aD09PTAmJiF0aGlzLl9hY3Rpb25IYW5kbGVyJiYhdGhpcy5fZGVmYXVsdENvbW1hbmROYW1lKXt0aGlzLmhlbHAoe2Vycm9yOnRydWV9KX1vdXRwdXRIZWxwSWZSZXF1ZXN0ZWQodGhpcyxpLnVua25vd24pO3RoaXMuX2NoZWNrRm9yTWlzc2luZ01hbmRhdG9yeU9wdGlvbnMoKTt0aGlzLl9jaGVja0ZvckNvbmZsaWN0aW5nT3B0aW9ucygpO2NvbnN0IGNoZWNrRm9yVW5rbm93bk9wdGlvbnM9KCk9PntpZihpLnVua25vd24ubGVuZ3RoPjApe3RoaXMudW5rbm93bk9wdGlvbihpLnVua25vd25bMF0pfX07Y29uc3Qgbj1gY29tbWFuZDoke3RoaXMubmFtZSgpfWA7aWYodGhpcy5fYWN0aW9uSGFuZGxlcil7Y2hlY2tGb3JVbmtub3duT3B0aW9ucygpO3RoaXMuX3Byb2Nlc3NBcmd1bWVudHMoKTtsZXQgaTtpPXRoaXMuX2NoYWluT3JDYWxsSG9va3MoaSwicHJlQWN0aW9uIik7aT10aGlzLl9jaGFpbk9yQ2FsbChpLCgoKT0+dGhpcy5fYWN0aW9uSGFuZGxlcih0aGlzLnByb2Nlc3NlZEFyZ3MpKSk7aWYodGhpcy5wYXJlbnQpe2k9dGhpcy5fY2hhaW5PckNhbGwoaSwoKCk9Pnt0aGlzLnBhcmVudC5lbWl0KG4sZSx0KX0pKX1pPXRoaXMuX2NoYWluT3JDYWxsSG9va3MoaSwicG9zdEFjdGlvbiIpO3JldHVybiBpfWlmKHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5saXN0ZW5lckNvdW50KG4pKXtjaGVja0ZvclVua25vd25PcHRpb25zKCk7dGhpcy5fcHJvY2Vzc0FyZ3VtZW50cygpO3RoaXMucGFyZW50LmVtaXQobixlLHQpfWVsc2UgaWYoZS5sZW5ndGgpe2lmKHRoaXMuX2ZpbmRDb21tYW5kKCIqIikpe3JldHVybiB0aGlzLl9kaXNwYXRjaFN1YmNvbW1hbmQoIioiLGUsdCl9aWYodGhpcy5saXN0ZW5lckNvdW50KCJjb21tYW5kOioiKSl7dGhpcy5lbWl0KCJjb21tYW5kOioiLGUsdCl9ZWxzZSBpZih0aGlzLmNvbW1hbmRzLmxlbmd0aCl7dGhpcy51bmtub3duQ29tbWFuZCgpfWVsc2V7Y2hlY2tGb3JVbmtub3duT3B0aW9ucygpO3RoaXMuX3Byb2Nlc3NBcmd1bWVudHMoKX19ZWxzZSBpZih0aGlzLmNvbW1hbmRzLmxlbmd0aCl7Y2hlY2tGb3JVbmtub3duT3B0aW9ucygpO3RoaXMuaGVscCh7ZXJyb3I6dHJ1ZX0pfWVsc2V7Y2hlY2tGb3JVbmtub3duT3B0aW9ucygpO3RoaXMuX3Byb2Nlc3NBcmd1bWVudHMoKX19X2ZpbmRDb21tYW5kKGUpe2lmKCFlKXJldHVybiB1bmRlZmluZWQ7cmV0dXJuIHRoaXMuY29tbWFuZHMuZmluZCgodD0+dC5fbmFtZT09PWV8fHQuX2FsaWFzZXMuaW5jbHVkZXMoZSkpKX1fZmluZE9wdGlvbihlKXtyZXR1cm4gdGhpcy5vcHRpb25zLmZpbmQoKHQ9PnQuaXMoZSkpKX1fY2hlY2tGb3JNaXNzaW5nTWFuZGF0b3J5T3B0aW9ucygpe3RoaXMuX2dldENvbW1hbmRBbmRBbmNlc3RvcnMoKS5mb3JFYWNoKChlPT57ZS5vcHRpb25zLmZvckVhY2goKHQ9PntpZih0Lm1hbmRhdG9yeSYmZS5nZXRPcHRpb25WYWx1ZSh0LmF0dHJpYnV0ZU5hbWUoKSk9PT11bmRlZmluZWQpe2UubWlzc2luZ01hbmRhdG9yeU9wdGlvblZhbHVlKHQpfX0pKX0pKX1fY2hlY2tGb3JDb25mbGljdGluZ0xvY2FsT3B0aW9ucygpe2NvbnN0IGU9dGhpcy5vcHRpb25zLmZpbHRlcigoZT0+e2NvbnN0IHQ9ZS5hdHRyaWJ1dGVOYW1lKCk7aWYodGhpcy5nZXRPcHRpb25WYWx1ZSh0KT09PXVuZGVmaW5lZCl7cmV0dXJuIGZhbHNlfXJldHVybiB0aGlzLmdldE9wdGlvblZhbHVlU291cmNlKHQpIT09ImRlZmF1bHQifSkpO2NvbnN0IHQ9ZS5maWx0ZXIoKGU9PmUuY29uZmxpY3RzV2l0aC5sZW5ndGg+MCkpO3QuZm9yRWFjaCgodD0+e2NvbnN0IGk9ZS5maW5kKChlPT50LmNvbmZsaWN0c1dpdGguaW5jbHVkZXMoZS5hdHRyaWJ1dGVOYW1lKCkpKSk7aWYoaSl7dGhpcy5fY29uZmxpY3RpbmdPcHRpb24odCxpKX19KSl9X2NoZWNrRm9yQ29uZmxpY3RpbmdPcHRpb25zKCl7dGhpcy5fZ2V0Q29tbWFuZEFuZEFuY2VzdG9ycygpLmZvckVhY2goKGU9PntlLl9jaGVja0ZvckNvbmZsaWN0aW5nTG9jYWxPcHRpb25zKCl9KSl9cGFyc2VPcHRpb25zKGUpe2NvbnN0IHQ9W107Y29uc3QgaT1bXTtsZXQgbj10O2NvbnN0IHM9ZS5zbGljZSgpO2Z1bmN0aW9uIG1heWJlT3B0aW9uKGUpe3JldHVybiBlLmxlbmd0aD4xJiZlWzBdPT09Ii0ifWxldCByPW51bGw7d2hpbGUocy5sZW5ndGgpe2NvbnN0IGU9cy5zaGlmdCgpO2lmKGU9PT0iLS0iKXtpZihuPT09aSluLnB1c2goZSk7bi5wdXNoKC4uLnMpO2JyZWFrfWlmKHImJiFtYXliZU9wdGlvbihlKSl7dGhpcy5lbWl0KGBvcHRpb246JHtyLm5hbWUoKX1gLGUpO2NvbnRpbnVlfXI9bnVsbDtpZihtYXliZU9wdGlvbihlKSl7Y29uc3QgdD10aGlzLl9maW5kT3B0aW9uKGUpO2lmKHQpe2lmKHQucmVxdWlyZWQpe2NvbnN0IGU9cy5zaGlmdCgpO2lmKGU9PT11bmRlZmluZWQpdGhpcy5vcHRpb25NaXNzaW5nQXJndW1lbnQodCk7dGhpcy5lbWl0KGBvcHRpb246JHt0Lm5hbWUoKX1gLGUpfWVsc2UgaWYodC5vcHRpb25hbCl7bGV0IGU9bnVsbDtpZihzLmxlbmd0aD4wJiYhbWF5YmVPcHRpb24oc1swXSkpe2U9cy5zaGlmdCgpfXRoaXMuZW1pdChgb3B0aW9uOiR7dC5uYW1lKCl9YCxlKX1lbHNle3RoaXMuZW1pdChgb3B0aW9uOiR7dC5uYW1lKCl9YCl9cj10LnZhcmlhZGljP3Q6bnVsbDtjb250aW51ZX19aWYoZS5sZW5ndGg+MiYmZVswXT09PSItIiYmZVsxXSE9PSItIil7Y29uc3QgdD10aGlzLl9maW5kT3B0aW9uKGAtJHtlWzFdfWApO2lmKHQpe2lmKHQucmVxdWlyZWR8fHQub3B0aW9uYWwmJnRoaXMuX2NvbWJpbmVGbGFnQW5kT3B0aW9uYWxWYWx1ZSl7dGhpcy5lbWl0KGBvcHRpb246JHt0Lm5hbWUoKX1gLGUuc2xpY2UoMikpfWVsc2V7dGhpcy5lbWl0KGBvcHRpb246JHt0Lm5hbWUoKX1gKTtzLnVuc2hpZnQoYC0ke2Uuc2xpY2UoMil9YCl9Y29udGludWV9fWlmKC9eLS1bXj1dKz0vLnRlc3QoZSkpe2NvbnN0IHQ9ZS5pbmRleE9mKCI9Iik7Y29uc3QgaT10aGlzLl9maW5kT3B0aW9uKGUuc2xpY2UoMCx0KSk7aWYoaSYmKGkucmVxdWlyZWR8fGkub3B0aW9uYWwpKXt0aGlzLmVtaXQoYG9wdGlvbjoke2kubmFtZSgpfWAsZS5zbGljZSh0KzEpKTtjb250aW51ZX19aWYobWF5YmVPcHRpb24oZSkpe249aX1pZigodGhpcy5fZW5hYmxlUG9zaXRpb25hbE9wdGlvbnN8fHRoaXMuX3Bhc3NUaHJvdWdoT3B0aW9ucykmJnQubGVuZ3RoPT09MCYmaS5sZW5ndGg9PT0wKXtpZih0aGlzLl9maW5kQ29tbWFuZChlKSl7dC5wdXNoKGUpO2lmKHMubGVuZ3RoPjApaS5wdXNoKC4uLnMpO2JyZWFrfWVsc2UgaWYoZT09PXRoaXMuX2hlbHBDb21tYW5kTmFtZSYmdGhpcy5faGFzSW1wbGljaXRIZWxwQ29tbWFuZCgpKXt0LnB1c2goZSk7aWYocy5sZW5ndGg+MCl0LnB1c2goLi4ucyk7YnJlYWt9ZWxzZSBpZih0aGlzLl9kZWZhdWx0Q29tbWFuZE5hbWUpe2kucHVzaChlKTtpZihzLmxlbmd0aD4wKWkucHVzaCguLi5zKTticmVha319aWYodGhpcy5fcGFzc1Rocm91Z2hPcHRpb25zKXtuLnB1c2goZSk7aWYocy5sZW5ndGg+MCluLnB1c2goLi4ucyk7YnJlYWt9bi5wdXNoKGUpfXJldHVybntvcGVyYW5kczp0LHVua25vd246aX19b3B0cygpe2lmKHRoaXMuX3N0b3JlT3B0aW9uc0FzUHJvcGVydGllcyl7Y29uc3QgZT17fTtjb25zdCB0PXRoaXMub3B0aW9ucy5sZW5ndGg7Zm9yKGxldCBpPTA7aTx0O2krKyl7Y29uc3QgdD10aGlzLm9wdGlvbnNbaV0uYXR0cmlidXRlTmFtZSgpO2VbdF09dD09PXRoaXMuX3ZlcnNpb25PcHRpb25OYW1lP3RoaXMuX3ZlcnNpb246dGhpc1t0XX1yZXR1cm4gZX1yZXR1cm4gdGhpcy5fb3B0aW9uVmFsdWVzfW9wdHNXaXRoR2xvYmFscygpe3JldHVybiB0aGlzLl9nZXRDb21tYW5kQW5kQW5jZXN0b3JzKCkucmVkdWNlKCgoZSx0KT0+T2JqZWN0LmFzc2lnbihlLHQub3B0cygpKSkse30pfWVycm9yKGUsdCl7dGhpcy5fb3V0cHV0Q29uZmlndXJhdGlvbi5vdXRwdXRFcnJvcihgJHtlfVxuYCx0aGlzLl9vdXRwdXRDb25maWd1cmF0aW9uLndyaXRlRXJyKTtpZih0eXBlb2YgdGhpcy5fc2hvd0hlbHBBZnRlckVycm9yPT09InN0cmluZyIpe3RoaXMuX291dHB1dENvbmZpZ3VyYXRpb24ud3JpdGVFcnIoYCR7dGhpcy5fc2hvd0hlbHBBZnRlckVycm9yfVxuYCl9ZWxzZSBpZih0aGlzLl9zaG93SGVscEFmdGVyRXJyb3Ipe3RoaXMuX291dHB1dENvbmZpZ3VyYXRpb24ud3JpdGVFcnIoIlxuIik7dGhpcy5vdXRwdXRIZWxwKHtlcnJvcjp0cnVlfSl9Y29uc3QgaT10fHx7fTtjb25zdCBuPWkuZXhpdENvZGV8fDE7Y29uc3Qgcz1pLmNvZGV8fCJjb21tYW5kZXIuZXJyb3IiO3RoaXMuX2V4aXQobixzLGUpfV9wYXJzZU9wdGlvbnNFbnYoKXt0aGlzLm9wdGlvbnMuZm9yRWFjaCgoZT0+e2lmKGUuZW52VmFyJiZlLmVudlZhciBpbiBhLmVudil7Y29uc3QgdD1lLmF0dHJpYnV0ZU5hbWUoKTtpZih0aGlzLmdldE9wdGlvblZhbHVlKHQpPT09dW5kZWZpbmVkfHxbImRlZmF1bHQiLCJjb25maWciLCJlbnYiXS5pbmNsdWRlcyh0aGlzLmdldE9wdGlvblZhbHVlU291cmNlKHQpKSl7aWYoZS5yZXF1aXJlZHx8ZS5vcHRpb25hbCl7dGhpcy5lbWl0KGBvcHRpb25FbnY6JHtlLm5hbWUoKX1gLGEuZW52W2UuZW52VmFyXSl9ZWxzZXt0aGlzLmVtaXQoYG9wdGlvbkVudjoke2UubmFtZSgpfWApfX19fSkpfV9wYXJzZU9wdGlvbnNJbXBsaWVkKCl7Y29uc3QgZT1uZXcgZCh0aGlzLm9wdGlvbnMpO2NvbnN0IGhhc0N1c3RvbU9wdGlvblZhbHVlPWU9PnRoaXMuZ2V0T3B0aW9uVmFsdWUoZSkhPT11bmRlZmluZWQmJiFbImRlZmF1bHQiLCJpbXBsaWVkIl0uaW5jbHVkZXModGhpcy5nZXRPcHRpb25WYWx1ZVNvdXJjZShlKSk7dGhpcy5vcHRpb25zLmZpbHRlcigodD0+dC5pbXBsaWVkIT09dW5kZWZpbmVkJiZoYXNDdXN0b21PcHRpb25WYWx1ZSh0LmF0dHJpYnV0ZU5h
>>"%B64%" echo bWUoKSkmJmUudmFsdWVGcm9tT3B0aW9uKHRoaXMuZ2V0T3B0aW9uVmFsdWUodC5hdHRyaWJ1dGVOYW1lKCkpLHQpKSkuZm9yRWFjaCgoZT0+e09iamVjdC5rZXlzKGUuaW1wbGllZCkuZmlsdGVyKChlPT4haGFzQ3VzdG9tT3B0aW9uVmFsdWUoZSkpKS5mb3JFYWNoKCh0PT57dGhpcy5zZXRPcHRpb25WYWx1ZVdpdGhTb3VyY2UodCxlLmltcGxpZWRbdF0sImltcGxpZWQiKX0pKX0pKX1taXNzaW5nQXJndW1lbnQoZSl7Y29uc3QgdD1gZXJyb3I6IG1pc3NpbmcgcmVxdWlyZWQgYXJndW1lbnQgJyR7ZX0nYDt0aGlzLmVycm9yKHQse2NvZGU6ImNvbW1hbmRlci5taXNzaW5nQXJndW1lbnQifSl9b3B0aW9uTWlzc2luZ0FyZ3VtZW50KGUpe2NvbnN0IHQ9YGVycm9yOiBvcHRpb24gJyR7ZS5mbGFnc30nIGFyZ3VtZW50IG1pc3NpbmdgO3RoaXMuZXJyb3IodCx7Y29kZToiY29tbWFuZGVyLm9wdGlvbk1pc3NpbmdBcmd1bWVudCJ9KX1taXNzaW5nTWFuZGF0b3J5T3B0aW9uVmFsdWUoZSl7Y29uc3QgdD1gZXJyb3I6IHJlcXVpcmVkIG9wdGlvbiAnJHtlLmZsYWdzfScgbm90IHNwZWNpZmllZGA7dGhpcy5lcnJvcih0LHtjb2RlOiJjb21tYW5kZXIubWlzc2luZ01hbmRhdG9yeU9wdGlvblZhbHVlIn0pfV9jb25mbGljdGluZ09wdGlvbihlLHQpe2NvbnN0IGZpbmRCZXN0T3B0aW9uRnJvbVZhbHVlPWU9Pntjb25zdCB0PWUuYXR0cmlidXRlTmFtZSgpO2NvbnN0IGk9dGhpcy5nZXRPcHRpb25WYWx1ZSh0KTtjb25zdCBuPXRoaXMub3B0aW9ucy5maW5kKChlPT5lLm5lZ2F0ZSYmdD09PWUuYXR0cmlidXRlTmFtZSgpKSk7Y29uc3Qgcz10aGlzLm9wdGlvbnMuZmluZCgoZT0+IWUubmVnYXRlJiZ0PT09ZS5hdHRyaWJ1dGVOYW1lKCkpKTtpZihuJiYobi5wcmVzZXRBcmc9PT11bmRlZmluZWQmJmk9PT1mYWxzZXx8bi5wcmVzZXRBcmchPT11bmRlZmluZWQmJmk9PT1uLnByZXNldEFyZykpe3JldHVybiBufXJldHVybiBzfHxlfTtjb25zdCBnZXRFcnJvck1lc3NhZ2U9ZT0+e2NvbnN0IHQ9ZmluZEJlc3RPcHRpb25Gcm9tVmFsdWUoZSk7Y29uc3QgaT10LmF0dHJpYnV0ZU5hbWUoKTtjb25zdCBuPXRoaXMuZ2V0T3B0aW9uVmFsdWVTb3VyY2UoaSk7aWYobj09PSJlbnYiKXtyZXR1cm5gZW52aXJvbm1lbnQgdmFyaWFibGUgJyR7dC5lbnZWYXJ9J2B9cmV0dXJuYG9wdGlvbiAnJHt0LmZsYWdzfSdgfTtjb25zdCBpPWBlcnJvcjogJHtnZXRFcnJvck1lc3NhZ2UoZSl9IGNhbm5vdCBiZSB1c2VkIHdpdGggJHtnZXRFcnJvck1lc3NhZ2UodCl9YDt0aGlzLmVycm9yKGkse2NvZGU6ImNvbW1hbmRlci5jb25mbGljdGluZ09wdGlvbiJ9KX11bmtub3duT3B0aW9uKGUpe2lmKHRoaXMuX2FsbG93VW5rbm93bk9wdGlvbilyZXR1cm47bGV0IHQ9IiI7aWYoZS5zdGFydHNXaXRoKCItLSIpJiZ0aGlzLl9zaG93U3VnZ2VzdGlvbkFmdGVyRXJyb3Ipe2xldCBpPVtdO2xldCBuPXRoaXM7ZG97Y29uc3QgZT1uLmNyZWF0ZUhlbHAoKS52aXNpYmxlT3B0aW9ucyhuKS5maWx0ZXIoKGU9PmUubG9uZykpLm1hcCgoZT0+ZS5sb25nKSk7aT1pLmNvbmNhdChlKTtuPW4ucGFyZW50fXdoaWxlKG4mJiFuLl9lbmFibGVQb3NpdGlvbmFsT3B0aW9ucyk7dD1mKGUsaSl9Y29uc3QgaT1gZXJyb3I6IHVua25vd24gb3B0aW9uICcke2V9JyR7dH1gO3RoaXMuZXJyb3IoaSx7Y29kZToiY29tbWFuZGVyLnVua25vd25PcHRpb24ifSl9X2V4Y2Vzc0FyZ3VtZW50cyhlKXtpZih0aGlzLl9hbGxvd0V4Y2Vzc0FyZ3VtZW50cylyZXR1cm47Y29uc3QgdD10aGlzLnJlZ2lzdGVyZWRBcmd1bWVudHMubGVuZ3RoO2NvbnN0IGk9dD09PTE/IiI6InMiO2NvbnN0IG49dGhpcy5wYXJlbnQ/YCBmb3IgJyR7dGhpcy5uYW1lKCl9J2A6IiI7Y29uc3Qgcz1gZXJyb3I6IHRvbyBtYW55IGFyZ3VtZW50cyR7bn0uIEV4cGVjdGVkICR7dH0gYXJndW1lbnQke2l9IGJ1dCBnb3QgJHtlLmxlbmd0aH0uYDt0aGlzLmVycm9yKHMse2NvZGU6ImNvbW1hbmRlci5leGNlc3NBcmd1bWVudHMifSl9dW5rbm93bkNvbW1hbmQoKXtjb25zdCBlPXRoaXMuYXJnc1swXTtsZXQgdD0iIjtpZih0aGlzLl9zaG93U3VnZ2VzdGlvbkFmdGVyRXJyb3Ipe2NvbnN0IGk9W107dGhpcy5jcmVhdGVIZWxwKCkudmlzaWJsZUNvbW1hbmRzKHRoaXMpLmZvckVhY2goKGU9PntpLnB1c2goZS5uYW1lKCkpO2lmKGUuYWxpYXMoKSlpLnB1c2goZS5hbGlhcygpKX0pKTt0PWYoZSxpKX1jb25zdCBpPWBlcnJvcjogdW5rbm93biBjb21tYW5kICcke2V9JyR7dH1gO3RoaXMuZXJyb3IoaSx7Y29kZToiY29tbWFuZGVyLnVua25vd25Db21tYW5kIn0pfXZlcnNpb24oZSx0LGkpe2lmKGU9PT11bmRlZmluZWQpcmV0dXJuIHRoaXMuX3ZlcnNpb247dGhpcy5fdmVyc2lvbj1lO3Q9dHx8Ii1WLCAtLXZlcnNpb24iO2k9aXx8Im91dHB1dCB0aGUgdmVyc2lvbiBudW1iZXIiO2NvbnN0IG49dGhpcy5jcmVhdGVPcHRpb24odCxpKTt0aGlzLl92ZXJzaW9uT3B0aW9uTmFtZT1uLmF0dHJpYnV0ZU5hbWUoKTt0aGlzLm9wdGlvbnMucHVzaChuKTt0aGlzLm9uKCJvcHRpb246IituLm5hbWUoKSwoKCk9Pnt0aGlzLl9vdXRwdXRDb25maWd1cmF0aW9uLndyaXRlT3V0KGAke2V9XG5gKTt0aGlzLl9leGl0KDAsImNvbW1hbmRlci52ZXJzaW9uIixlKX0pKTtyZXR1cm4gdGhpc31kZXNjcmlwdGlvbihlLHQpe2lmKGU9PT11bmRlZmluZWQmJnQ9PT11bmRlZmluZWQpcmV0dXJuIHRoaXMuX2Rlc2NyaXB0aW9uO3RoaXMuX2Rlc2NyaXB0aW9uPWU7aWYodCl7dGhpcy5fYXJnc0Rlc2NyaXB0aW9uPXR9cmV0dXJuIHRoaXN9c3VtbWFyeShlKXtpZihlPT09dW5kZWZpbmVkKXJldHVybiB0aGlzLl9zdW1tYXJ5O3RoaXMuX3N1bW1hcnk9ZTtyZXR1cm4gdGhpc31hbGlhcyhlKXtpZihlPT09dW5kZWZpbmVkKXJldHVybiB0aGlzLl9hbGlhc2VzWzBdO2xldCB0PXRoaXM7aWYodGhpcy5jb21tYW5kcy5sZW5ndGghPT0wJiZ0aGlzLmNvbW1hbmRzW3RoaXMuY29tbWFuZHMubGVuZ3RoLTFdLl9leGVjdXRhYmxlSGFuZGxlcil7dD10aGlzLmNvbW1hbmRzW3RoaXMuY29tbWFuZHMubGVuZ3RoLTFdfWlmKGU9PT10Ll9uYW1lKXRocm93IG5ldyBFcnJvcigiQ29tbWFuZCBhbGlhcyBjYW4ndCBiZSB0aGUgc2FtZSBhcyBpdHMgbmFtZSIpO3QuX2FsaWFzZXMucHVzaChlKTtyZXR1cm4gdGhpc31hbGlhc2VzKGUpe2lmKGU9PT11bmRlZmluZWQpcmV0dXJuIHRoaXMuX2FsaWFzZXM7ZS5mb3JFYWNoKChlPT50aGlzLmFsaWFzKGUpKSk7cmV0dXJuIHRoaXN9dXNhZ2UoZSl7aWYoZT09PXVuZGVmaW5lZCl7aWYodGhpcy5fdXNhZ2UpcmV0dXJuIHRoaXMuX3VzYWdlO2NvbnN0IGU9dGhpcy5yZWdpc3RlcmVkQXJndW1lbnRzLm1hcCgoZT0+aChlKSkpO3JldHVybltdLmNvbmNhdCh0aGlzLm9wdGlvbnMubGVuZ3RofHx0aGlzLl9oYXNIZWxwT3B0aW9uPyJbb3B0aW9uc10iOltdLHRoaXMuY29tbWFuZHMubGVuZ3RoPyJbY29tbWFuZF0iOltdLHRoaXMucmVnaXN0ZXJlZEFyZ3VtZW50cy5sZW5ndGg/ZTpbXSkuam9pbigiICIpfXRoaXMuX3VzYWdlPWU7cmV0dXJuIHRoaXN9bmFtZShlKXtpZihlPT09dW5kZWZpbmVkKXJldHVybiB0aGlzLl9uYW1lO3RoaXMuX25hbWU9ZTtyZXR1cm4gdGhpc31uYW1lRnJvbUZpbGVuYW1lKGUpe3RoaXMuX25hbWU9ci5iYXNlbmFtZShlLHIuZXh0bmFtZShlKSk7cmV0dXJuIHRoaXN9ZXhlY3V0YWJsZURpcihlKXtpZihlPT09dW5kZWZpbmVkKXJldHVybiB0aGlzLl9leGVjdXRhYmxlRGlyO3RoaXMuX2V4ZWN1dGFibGVEaXI9ZTtyZXR1cm4gdGhpc31oZWxwSW5mb3JtYXRpb24oZSl7Y29uc3QgdD10aGlzLmNyZWF0ZUhlbHAoKTtpZih0LmhlbHBXaWR0aD09PXVuZGVmaW5lZCl7dC5oZWxwV2lkdGg9ZSYmZS5lcnJvcj90aGlzLl9vdXRwdXRDb25maWd1cmF0aW9uLmdldEVyckhlbHBXaWR0aCgpOnRoaXMuX291dHB1dENvbmZpZ3VyYXRpb24uZ2V0T3V0SGVscFdpZHRoKCl9cmV0dXJuIHQuZm9ybWF0SGVscCh0aGlzLHQpfV9nZXRIZWxwQ29udGV4dChlKXtlPWV8fHt9O2NvbnN0IHQ9e2Vycm9yOiEhZS5lcnJvcn07bGV0IGk7aWYodC5lcnJvcil7aT1lPT50aGlzLl9vdXRwdXRDb25maWd1cmF0aW9uLndyaXRlRXJyKGUpfWVsc2V7aT1lPT50aGlzLl9vdXRwdXRDb25maWd1cmF0aW9uLndyaXRlT3V0KGUpfXQud3JpdGU9ZS53cml0ZXx8aTt0LmNvbW1hbmQ9dGhpcztyZXR1cm4gdH1vdXRwdXRIZWxwKGUpe2xldCB0O2lmKHR5cGVvZiBlPT09ImZ1bmN0aW9uIil7dD1lO2U9dW5kZWZpbmVkfWNvbnN0IGk9dGhpcy5fZ2V0SGVscENvbnRleHQoZSk7dGhpcy5fZ2V0Q29tbWFuZEFuZEFuY2VzdG9ycygpLnJldmVyc2UoKS5mb3JFYWNoKChlPT5lLmVtaXQoImJlZm9yZUFsbEhlbHAiLGkpKSk7dGhpcy5lbWl0KCJiZWZvcmVIZWxwIixpKTtsZXQgbj10aGlzLmhlbHBJbmZvcm1hdGlvbihpKTtpZih0KXtuPXQobik7aWYodHlwZW9mIG4hPT0ic3RyaW5nIiYmIUJ1ZmZlci5pc0J1ZmZlcihuKSl7dGhyb3cgbmV3IEVycm9yKCJvdXRwdXRIZWxwIGNhbGxiYWNrIG11c3QgcmV0dXJuIGEgc3RyaW5nIG9yIGEgQnVmZmVyIil9fWkud3JpdGUobik7aWYodGhpcy5faGVscExvbmdGbGFnKXt0aGlzLmVtaXQodGhpcy5faGVscExvbmdGbGFnKX10aGlzLmVtaXQoImFmdGVySGVscCIsaSk7dGhpcy5fZ2V0Q29tbWFuZEFuZEFuY2VzdG9ycygpLmZvckVhY2goKGU9PmUuZW1pdCgiYWZ0ZXJBbGxIZWxwIixpKSkpfWhlbHBPcHRpb24oZSx0KXtpZih0eXBlb2YgZT09PSJib29sZWFuIil7dGhpcy5faGFzSGVscE9wdGlvbj1lO3JldHVybiB0aGlzfXRoaXMuX2hlbHBGbGFncz1lfHx0aGlzLl9oZWxwRmxhZ3M7dGhpcy5faGVscERlc2NyaXB0aW9uPXR8fHRoaXMuX2hlbHBEZXNjcmlwdGlvbjtjb25zdCBpPW0odGhpcy5faGVscEZsYWdzKTt0aGlzLl9oZWxwU2hvcnRGbGFnPWkuc2hvcnRGbGFnO3RoaXMuX2hlbHBMb25nRmxhZz1pLmxvbmdGbGFnO3JldHVybiB0aGlzfWhlbHAoZSl7dGhpcy5vdXRwdXRIZWxwKGUpO2xldCB0PWEuZXhpdENvZGV8fDA7aWYodD09PTAmJmUmJnR5cGVvZiBlIT09ImZ1bmN0aW9uIiYmZS5lcnJvcil7dD0xfXRoaXMuX2V4aXQodCwiY29tbWFuZGVyLmhlbHAiLCIob3V0cHV0SGVscCkiKX1hZGRIZWxwVGV4dChlLHQpe2NvbnN0IGk9WyJiZWZvcmVBbGwiLCJiZWZvcmUiLCJhZnRlciIsImFmdGVyQWxsIl07aWYoIWkuaW5jbHVkZXMoZSkpe3Rocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB2YWx1ZSBmb3IgcG9zaXRpb24gdG8gYWRkSGVscFRl
>>"%B64%" echo eHQuXG5FeHBlY3Rpbmcgb25lIG9mICcke2kuam9pbigiJywgJyIpfSdgKX1jb25zdCBuPWAke2V9SGVscGA7dGhpcy5vbihuLChlPT57bGV0IGk7aWYodHlwZW9mIHQ9PT0iZnVuY3Rpb24iKXtpPXQoe2Vycm9yOmUuZXJyb3IsY29tbWFuZDplLmNvbW1hbmR9KX1lbHNle2k9dH1pZihpKXtlLndyaXRlKGAke2l9XG5gKX19KSk7cmV0dXJuIHRoaXN9fWZ1bmN0aW9uIG91dHB1dEhlbHBJZlJlcXVlc3RlZChlLHQpe2NvbnN0IGk9ZS5faGFzSGVscE9wdGlvbiYmdC5maW5kKCh0PT50PT09ZS5faGVscExvbmdGbGFnfHx0PT09ZS5faGVscFNob3J0RmxhZykpO2lmKGkpe2Uub3V0cHV0SGVscCgpO2UuX2V4aXQoMCwiY29tbWFuZGVyLmhlbHBEaXNwbGF5ZWQiLCIob3V0cHV0SGVscCkiKX19ZnVuY3Rpb24gaW5jcmVtZW50Tm9kZUluc3BlY3RvclBvcnQoZSl7cmV0dXJuIGUubWFwKChlPT57aWYoIWUuc3RhcnRzV2l0aCgiLS1pbnNwZWN0Iikpe3JldHVybiBlfWxldCB0O2xldCBpPSIxMjcuMC4wLjEiO2xldCBuPSI5MjI5IjtsZXQgcztpZigocz1lLm1hdGNoKC9eKC0taW5zcGVjdCgtYnJrKT8pJC8pKSE9PW51bGwpe3Q9c1sxXX1lbHNlIGlmKChzPWUubWF0Y2goL14oLS1pbnNwZWN0KC1icmt8LXBvcnQpPyk9KFteOl0rKSQvKSkhPT1udWxsKXt0PXNbMV07aWYoL15cZCskLy50ZXN0KHNbM10pKXtuPXNbM119ZWxzZXtpPXNbM119fWVsc2UgaWYoKHM9ZS5tYXRjaCgvXigtLWluc3BlY3QoLWJya3wtcG9ydCk/KT0oW146XSspOihcZCspJC8pKSE9PW51bGwpe3Q9c1sxXTtpPXNbM107bj1zWzRdfWlmKHQmJm4hPT0iMCIpe3JldHVybmAke3R9PSR7aX06JHtwYXJzZUludChuKSsxfWB9cmV0dXJuIGV9KSl9dC5Db21tYW5kPUNvbW1hbmR9LDEzNTooZSx0KT0+e2NsYXNzIENvbW1hbmRlckVycm9yIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGkpO0Vycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsdGhpcy5jb25zdHJ1Y3Rvcik7dGhpcy5uYW1lPXRoaXMuY29uc3RydWN0b3IubmFtZTt0aGlzLmNvZGU9dDt0aGlzLmV4aXRDb2RlPWU7dGhpcy5uZXN0ZWRFcnJvcj11bmRlZmluZWR9fWNsYXNzIEludmFsaWRBcmd1bWVudEVycm9yIGV4dGVuZHMgQ29tbWFuZGVyRXJyb3J7Y29uc3RydWN0b3IoZSl7c3VwZXIoMSwiY29tbWFuZGVyLmludmFsaWRBcmd1bWVudCIsZSk7RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyx0aGlzLmNvbnN0cnVjdG9yKTt0aGlzLm5hbWU9dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfX10LkNvbW1hbmRlckVycm9yPUNvbW1hbmRlckVycm9yO3QuSW52YWxpZEFyZ3VtZW50RXJyb3I9SW52YWxpZEFyZ3VtZW50RXJyb3J9LDc1NDooZSx0LGkpPT57Y29uc3R7aHVtYW5SZWFkYWJsZUFyZ05hbWU6bn09aSgxNTQpO2NsYXNzIEhlbHB7Y29uc3RydWN0b3IoKXt0aGlzLmhlbHBXaWR0aD11bmRlZmluZWQ7dGhpcy5zb3J0U3ViY29tbWFuZHM9ZmFsc2U7dGhpcy5zb3J0T3B0aW9ucz1mYWxzZTt0aGlzLnNob3dHbG9iYWxPcHRpb25zPWZhbHNlfXZpc2libGVDb21tYW5kcyhlKXtjb25zdCB0PWUuY29tbWFuZHMuZmlsdGVyKChlPT4hZS5faGlkZGVuKSk7aWYoZS5faGFzSW1wbGljaXRIZWxwQ29tbWFuZCgpKXtjb25zdFssaSxuXT1lLl9oZWxwQ29tbWFuZG5hbWVBbmRBcmdzLm1hdGNoKC8oW14gXSspICooLiopLyk7Y29uc3Qgcz1lLmNyZWF0ZUNvbW1hbmQoaSkuaGVscE9wdGlvbihmYWxzZSk7cy5kZXNjcmlwdGlvbihlLl9oZWxwQ29tbWFuZERlc2NyaXB0aW9uKTtpZihuKXMuYXJndW1lbnRzKG4pO3QucHVzaChzKX1pZih0aGlzLnNvcnRTdWJjb21tYW5kcyl7dC5zb3J0KCgoZSx0KT0+ZS5uYW1lKCkubG9jYWxlQ29tcGFyZSh0Lm5hbWUoKSkpKX1yZXR1cm4gdH1jb21wYXJlT3B0aW9ucyhlLHQpe2NvbnN0IGdldFNvcnRLZXk9ZT0+ZS5zaG9ydD9lLnNob3J0LnJlcGxhY2UoL14tLywiIik6ZS5sb25nLnJlcGxhY2UoL14tLS8sIiIpO3JldHVybiBnZXRTb3J0S2V5KGUpLmxvY2FsZUNvbXBhcmUoZ2V0U29ydEtleSh0KSl9dmlzaWJsZU9wdGlvbnMoZSl7Y29uc3QgdD1lLm9wdGlvbnMuZmlsdGVyKChlPT4hZS5oaWRkZW4pKTtjb25zdCBpPWUuX2hhc0hlbHBPcHRpb24mJmUuX2hlbHBTaG9ydEZsYWcmJiFlLl9maW5kT3B0aW9uKGUuX2hlbHBTaG9ydEZsYWcpO2NvbnN0IG49ZS5faGFzSGVscE9wdGlvbiYmIWUuX2ZpbmRPcHRpb24oZS5faGVscExvbmdGbGFnKTtpZihpfHxuKXtsZXQgcztpZighaSl7cz1lLmNyZWF0ZU9wdGlvbihlLl9oZWxwTG9uZ0ZsYWcsZS5faGVscERlc2NyaXB0aW9uKX1lbHNlIGlmKCFuKXtzPWUuY3JlYXRlT3B0aW9uKGUuX2hlbHBTaG9ydEZsYWcsZS5faGVscERlc2NyaXB0aW9uKX1lbHNle3M9ZS5jcmVhdGVPcHRpb24oZS5faGVscEZsYWdzLGUuX2hlbHBEZXNjcmlwdGlvbil9dC5wdXNoKHMpfWlmKHRoaXMuc29ydE9wdGlvbnMpe3Quc29ydCh0aGlzLmNvbXBhcmVPcHRpb25zKX1yZXR1cm4gdH12aXNpYmxlR2xvYmFsT3B0aW9ucyhlKXtpZighdGhpcy5zaG93R2xvYmFsT3B0aW9ucylyZXR1cm5bXTtjb25zdCB0PVtdO2ZvcihsZXQgaT1lLnBhcmVudDtpO2k9aS5wYXJlbnQpe2NvbnN0IGU9aS5vcHRpb25zLmZpbHRlcigoZT0+IWUuaGlkZGVuKSk7dC5wdXNoKC4uLmUpfWlmKHRoaXMuc29ydE9wdGlvbnMpe3Quc29ydCh0aGlzLmNvbXBhcmVPcHRpb25zKX1yZXR1cm4gdH12aXNpYmxlQXJndW1lbnRzKGUpe2lmKGUuX2FyZ3NEZXNjcmlwdGlvbil7ZS5yZWdpc3RlcmVkQXJndW1lbnRzLmZvckVhY2goKHQ9Pnt0LmRlc2NyaXB0aW9uPXQuZGVzY3JpcHRpb258fGUuX2FyZ3NEZXNjcmlwdGlvblt0Lm5hbWUoKV18fCIifSkpfWlmKGUucmVnaXN0ZXJlZEFyZ3VtZW50cy5maW5kKChlPT5lLmRlc2NyaXB0aW9uKSkpe3JldHVybiBlLnJlZ2lzdGVyZWRBcmd1bWVudHN9cmV0dXJuW119c3ViY29tbWFuZFRlcm0oZSl7Y29uc3QgdD1lLnJlZ2lzdGVyZWRBcmd1bWVudHMubWFwKChlPT5uKGUpKSkuam9pbigiICIpO3JldHVybiBlLl9uYW1lKyhlLl9hbGlhc2VzWzBdPyJ8IitlLl9hbGlhc2VzWzBdOiIiKSsoZS5vcHRpb25zLmxlbmd0aD8iIFtvcHRpb25zXSI6IiIpKyh0PyIgIit0OiIiKX1vcHRpb25UZXJtKGUpe3JldHVybiBlLmZsYWdzfWFyZ3VtZW50VGVybShlKXtyZXR1cm4gZS5uYW1lKCl9bG9uZ2VzdFN1YmNvbW1hbmRUZXJtTGVuZ3RoKGUsdCl7cmV0dXJuIHQudmlzaWJsZUNvbW1hbmRzKGUpLnJlZHVjZSgoKGUsaSk9Pk1hdGgubWF4KGUsdC5zdWJjb21tYW5kVGVybShpKS5sZW5ndGgpKSwwKX1sb25nZXN0T3B0aW9uVGVybUxlbmd0aChlLHQpe3JldHVybiB0LnZpc2libGVPcHRpb25zKGUpLnJlZHVjZSgoKGUsaSk9Pk1hdGgubWF4KGUsdC5vcHRpb25UZXJtKGkpLmxlbmd0aCkpLDApfWxvbmdlc3RHbG9iYWxPcHRpb25UZXJtTGVuZ3RoKGUsdCl7cmV0dXJuIHQudmlzaWJsZUdsb2JhbE9wdGlvbnMoZSkucmVkdWNlKCgoZSxpKT0+TWF0aC5tYXgoZSx0Lm9wdGlvblRlcm0oaSkubGVuZ3RoKSksMCl9bG9uZ2VzdEFyZ3VtZW50VGVybUxlbmd0aChlLHQpe3JldHVybiB0LnZpc2libGVBcmd1bWVudHMoZSkucmVkdWNlKCgoZSxpKT0+TWF0aC5tYXgoZSx0LmFyZ3VtZW50VGVybShpKS5sZW5ndGgpKSwwKX1jb21tYW5kVXNhZ2UoZSl7bGV0IHQ9ZS5fbmFtZTtpZihlLl9hbGlhc2VzWzBdKXt0PXQrInwiK2UuX2FsaWFzZXNbMF19bGV0IGk9IiI7Zm9yKGxldCB0PWUucGFyZW50O3Q7dD10LnBhcmVudCl7aT10Lm5hbWUoKSsiICIraX1yZXR1cm4gaSt0KyIgIitlLnVzYWdlKCl9Y29tbWFuZERlc2NyaXB0aW9uKGUpe3JldHVybiBlLmRlc2NyaXB0aW9uKCl9c3ViY29tbWFuZERlc2NyaXB0aW9uKGUpe3JldHVybiBlLnN1bW1hcnkoKXx8ZS5kZXNjcmlwdGlvbigpfW9wdGlvbkRlc2NyaXB0aW9uKGUpe2NvbnN0IHQ9W107aWYoZS5hcmdDaG9pY2VzKXt0LnB1c2goYGNob2ljZXM6ICR7ZS5hcmdDaG9pY2VzLm1hcCgoZT0+SlNPTi5zdHJpbmdpZnkoZSkpKS5qb2luKCIsICIpfWApfWlmKGUuZGVmYXVsdFZhbHVlIT09dW5kZWZpbmVkKXtjb25zdCBpPWUucmVxdWlyZWR8fGUub3B0aW9uYWx8fGUuaXNCb29sZWFuKCkmJnR5cGVvZiBlLmRlZmF1bHRWYWx1ZT09PSJib29sZWFuIjtpZihpKXt0LnB1c2goYGRlZmF1bHQ6ICR7ZS5kZWZhdWx0VmFsdWVEZXNjcmlwdGlvbnx8SlNPTi5zdHJpbmdpZnkoZS5kZWZhdWx0VmFsdWUpfWApfX1pZihlLnByZXNldEFyZyE9PXVuZGVmaW5lZCYmZS5vcHRpb25hbCl7dC5wdXNoKGBwcmVzZXQ6ICR7SlNPTi5zdHJpbmdpZnkoZS5wcmVzZXRBcmcpfWApfWlmKGUuZW52VmFyIT09dW5kZWZpbmVkKXt0LnB1c2goYGVudjogJHtlLmVudlZhcn1gKX1pZih0Lmxlbmd0aD4wKXtyZXR1cm5gJHtlLmRlc2NyaXB0aW9ufSAoJHt0LmpvaW4oIiwgIil9KWB9cmV0dXJuIGUuZGVzY3JpcHRpb259YXJndW1lbnREZXNjcmlwdGlvbihlKXtjb25zdCB0PVtdO2lmKGUuYXJnQ2hvaWNlcyl7dC5wdXNoKGBjaG9pY2VzOiAke2UuYXJnQ2hvaWNlcy5tYXAoKGU9PkpTT04uc3RyaW5naWZ5KGUpKSkuam9pbigiLCAiKX1gKX1pZihlLmRlZmF1bHRWYWx1ZSE9PXVuZGVmaW5lZCl7dC5wdXNoKGBkZWZhdWx0OiAke2UuZGVmYXVsdFZhbHVlRGVzY3JpcHRpb258fEpTT04uc3RyaW5naWZ5KGUuZGVmYXVsdFZhbHVlKX1gKX1pZih0Lmxlbmd0aD4wKXtjb25zdCBpPWAoJHt0LmpvaW4oIiwgIil9KWA7aWYoZS5kZXNjcmlwdGlvbil7cmV0dXJuYCR7ZS5kZXNjcmlwdGlvbn0gJHtpfWB9cmV0dXJuIGl9cmV0dXJuIGUuZGVzY3JpcHRpb259Zm9ybWF0SGVscChlLHQpe2NvbnN0IGk9dC5wYWRXaWR0aChlLHQpO2NvbnN0IG49dC5oZWxwV2lkdGh8fDgwO2NvbnN0IHM9Mjtjb25zdCByPTI7ZnVuY3Rpb24gZm9ybWF0SXRlbShlLG8pe2lmKG8pe2NvbnN0IGE9YCR7ZS5wYWRFbmQoaStyKX0ke299YDtyZXR1cm4gdC53cmFwKGEsbi1zLGkrcil9cmV0dXJuIGV9ZnVuY3Rpb24gZm9ybWF0TGlzdChlKXtyZXR1cm4gZS5qb2luKCJcbiIpLnJlcGxhY2UoL14vZ20sIiAiLnJlcGVhdChzKSl9bGV0IG89W2BVc2FnZTogJHt0LmNvbW1hbmRVc2FnZShlKX1gLCIiXTtjb25zdCBhPXQuY29tbWFuZERlc2NyaXB0aW9uKGUpO2lmKGEubGVuZ3RoPjApe289by5jb25jYXQoW3Qud3JhcChhLG4sMCksIiJdKX1jb25zdCBsPXQudmlzaWJsZUFyZ3VtZW50cyhlKS5tYXAoKGU9PmZvcm1hdEl0ZW0odC5hcmd1bWVudFRlcm0oZSksdC5hcmd1bWVudERlc2NyaXB0
>>"%B64%" echo aW9uKGUpKSkpO2lmKGwubGVuZ3RoPjApe289by5jb25jYXQoWyJBcmd1bWVudHM6Iixmb3JtYXRMaXN0KGwpLCIiXSl9Y29uc3QgaD10LnZpc2libGVPcHRpb25zKGUpLm1hcCgoZT0+Zm9ybWF0SXRlbSh0Lm9wdGlvblRlcm0oZSksdC5vcHRpb25EZXNjcmlwdGlvbihlKSkpKTtpZihoLmxlbmd0aD4wKXtvPW8uY29uY2F0KFsiT3B0aW9uczoiLGZvcm1hdExpc3QoaCksIiJdKX1pZih0aGlzLnNob3dHbG9iYWxPcHRpb25zKXtjb25zdCBpPXQudmlzaWJsZUdsb2JhbE9wdGlvbnMoZSkubWFwKChlPT5mb3JtYXRJdGVtKHQub3B0aW9uVGVybShlKSx0Lm9wdGlvbkRlc2NyaXB0aW9uKGUpKSkpO2lmKGkubGVuZ3RoPjApe289by5jb25jYXQoWyJHbG9iYWwgT3B0aW9uczoiLGZvcm1hdExpc3QoaSksIiJdKX19Y29uc3QgdT10LnZpc2libGVDb21tYW5kcyhlKS5tYXAoKGU9PmZvcm1hdEl0ZW0odC5zdWJjb21tYW5kVGVybShlKSx0LnN1YmNvbW1hbmREZXNjcmlwdGlvbihlKSkpKTtpZih1Lmxlbmd0aD4wKXtvPW8uY29uY2F0KFsiQ29tbWFuZHM6Iixmb3JtYXRMaXN0KHUpLCIiXSl9cmV0dXJuIG8uam9pbigiXG4iKX1wYWRXaWR0aChlLHQpe3JldHVybiBNYXRoLm1heCh0Lmxvbmdlc3RPcHRpb25UZXJtTGVuZ3RoKGUsdCksdC5sb25nZXN0R2xvYmFsT3B0aW9uVGVybUxlbmd0aChlLHQpLHQubG9uZ2VzdFN1YmNvbW1hbmRUZXJtTGVuZ3RoKGUsdCksdC5sb25nZXN0QXJndW1lbnRUZXJtTGVuZ3RoKGUsdCkpfXdyYXAoZSx0LGksbj00MCl7Y29uc3Qgcz0iIFxcZlxcdFxcdsKg4ZqA4oCALeKAiuKAr+KBn+OAgFx1ZmVmZiI7Y29uc3Qgcj1uZXcgUmVnRXhwKGBbXFxuXVske3N9XStgKTtpZihlLm1hdGNoKHIpKXJldHVybiBlO2NvbnN0IG89dC1pO2lmKG88bilyZXR1cm4gZTtjb25zdCBhPWUuc2xpY2UoMCxpKTtjb25zdCBsPWUuc2xpY2UoaSkucmVwbGFjZSgiXHJcbiIsIlxuIik7Y29uc3QgaD0iICIucmVwZWF0KGkpO2NvbnN0IHU9IuKAiyI7Y29uc3QgYz1gXFxzJHt1fWA7Y29uc3QgcD1uZXcgUmVnRXhwKGBcbnwuezEsJHtvLTF9fShbJHtjfV18JCl8W14ke2N9XSs/KFske2N9XXwkKWAsImciKTtjb25zdCBtPWwubWF0Y2gocCl8fFtdO3JldHVybiBhK20ubWFwKCgoZSx0KT0+e2lmKGU9PT0iXG4iKXJldHVybiIiO3JldHVybih0PjA/aDoiIikrZS50cmltRW5kKCl9KSkuam9pbigiXG4iKX19dC5IZWxwPUhlbHB9LDI0MDooZSx0LGkpPT57Y29uc3R7SW52YWxpZEFyZ3VtZW50RXJyb3I6bn09aSgxMzUpO2NsYXNzIE9wdGlvbntjb25zdHJ1Y3RvcihlLHQpe3RoaXMuZmxhZ3M9ZTt0aGlzLmRlc2NyaXB0aW9uPXR8fCIiO3RoaXMucmVxdWlyZWQ9ZS5pbmNsdWRlcygiPCIpO3RoaXMub3B0aW9uYWw9ZS5pbmNsdWRlcygiWyIpO3RoaXMudmFyaWFkaWM9L1x3XC5cLlwuWz5cXV0kLy50ZXN0KGUpO3RoaXMubWFuZGF0b3J5PWZhbHNlO2NvbnN0IGk9c3BsaXRPcHRpb25GbGFncyhlKTt0aGlzLnNob3J0PWkuc2hvcnRGbGFnO3RoaXMubG9uZz1pLmxvbmdGbGFnO3RoaXMubmVnYXRlPWZhbHNlO2lmKHRoaXMubG9uZyl7dGhpcy5uZWdhdGU9dGhpcy5sb25nLnN0YXJ0c1dpdGgoIi0tbm8tIil9dGhpcy5kZWZhdWx0VmFsdWU9dW5kZWZpbmVkO3RoaXMuZGVmYXVsdFZhbHVlRGVzY3JpcHRpb249dW5kZWZpbmVkO3RoaXMucHJlc2V0QXJnPXVuZGVmaW5lZDt0aGlzLmVudlZhcj11bmRlZmluZWQ7dGhpcy5wYXJzZUFyZz11bmRlZmluZWQ7dGhpcy5oaWRkZW49ZmFsc2U7dGhpcy5hcmdDaG9pY2VzPXVuZGVmaW5lZDt0aGlzLmNvbmZsaWN0c1dpdGg9W107dGhpcy5pbXBsaWVkPXVuZGVmaW5lZH1kZWZhdWx0KGUsdCl7dGhpcy5kZWZhdWx0VmFsdWU9ZTt0aGlzLmRlZmF1bHRWYWx1ZURlc2NyaXB0aW9uPXQ7cmV0dXJuIHRoaXN9cHJlc2V0KGUpe3RoaXMucHJlc2V0QXJnPWU7cmV0dXJuIHRoaXN9Y29uZmxpY3RzKGUpe3RoaXMuY29uZmxpY3RzV2l0aD10aGlzLmNvbmZsaWN0c1dpdGguY29uY2F0KGUpO3JldHVybiB0aGlzfWltcGxpZXMoZSl7bGV0IHQ9ZTtpZih0eXBlb2YgZT09PSJzdHJpbmciKXt0PXtbZV06dHJ1ZX19dGhpcy5pbXBsaWVkPU9iamVjdC5hc3NpZ24odGhpcy5pbXBsaWVkfHx7fSx0KTtyZXR1cm4gdGhpc31lbnYoZSl7dGhpcy5lbnZWYXI9ZTtyZXR1cm4gdGhpc31hcmdQYXJzZXIoZSl7dGhpcy5wYXJzZUFyZz1lO3JldHVybiB0aGlzfW1ha2VPcHRpb25NYW5kYXRvcnkoZT10cnVlKXt0aGlzLm1hbmRhdG9yeT0hIWU7cmV0dXJuIHRoaXN9aGlkZUhlbHAoZT10cnVlKXt0aGlzLmhpZGRlbj0hIWU7cmV0dXJuIHRoaXN9X2NvbmNhdFZhbHVlKGUsdCl7aWYodD09PXRoaXMuZGVmYXVsdFZhbHVlfHwhQXJyYXkuaXNBcnJheSh0KSl7cmV0dXJuW2VdfXJldHVybiB0LmNvbmNhdChlKX1jaG9pY2VzKGUpe3RoaXMuYXJnQ2hvaWNlcz1lLnNsaWNlKCk7dGhpcy5wYXJzZUFyZz0oZSx0KT0+e2lmKCF0aGlzLmFyZ0Nob2ljZXMuaW5jbHVkZXMoZSkpe3Rocm93IG5ldyBuKGBBbGxvd2VkIGNob2ljZXMgYXJlICR7dGhpcy5hcmdDaG9pY2VzLmpvaW4oIiwgIil9LmApfWlmKHRoaXMudmFyaWFkaWMpe3JldHVybiB0aGlzLl9jb25jYXRWYWx1ZShlLHQpfXJldHVybiBlfTtyZXR1cm4gdGhpc31uYW1lKCl7aWYodGhpcy5sb25nKXtyZXR1cm4gdGhpcy5sb25nLnJlcGxhY2UoL14tLS8sIiIpfXJldHVybiB0aGlzLnNob3J0LnJlcGxhY2UoL14tLywiIil9YXR0cmlidXRlTmFtZSgpe3JldHVybiBjYW1lbGNhc2UodGhpcy5uYW1lKCkucmVwbGFjZSgvXm5vLS8sIiIpKX1pcyhlKXtyZXR1cm4gdGhpcy5zaG9ydD09PWV8fHRoaXMubG9uZz09PWV9aXNCb29sZWFuKCl7cmV0dXJuIXRoaXMucmVxdWlyZWQmJiF0aGlzLm9wdGlvbmFsJiYhdGhpcy5uZWdhdGV9fWNsYXNzIER1YWxPcHRpb25ze2NvbnN0cnVjdG9yKGUpe3RoaXMucG9zaXRpdmVPcHRpb25zPW5ldyBNYXA7dGhpcy5uZWdhdGl2ZU9wdGlvbnM9bmV3IE1hcDt0aGlzLmR1YWxPcHRpb25zPW5ldyBTZXQ7ZS5mb3JFYWNoKChlPT57aWYoZS5uZWdhdGUpe3RoaXMubmVnYXRpdmVPcHRpb25zLnNldChlLmF0dHJpYnV0ZU5hbWUoKSxlKX1lbHNle3RoaXMucG9zaXRpdmVPcHRpb25zLnNldChlLmF0dHJpYnV0ZU5hbWUoKSxlKX19KSk7dGhpcy5uZWdhdGl2ZU9wdGlvbnMuZm9yRWFjaCgoKGUsdCk9PntpZih0aGlzLnBvc2l0aXZlT3B0aW9ucy5oYXModCkpe3RoaXMuZHVhbE9wdGlvbnMuYWRkKHQpfX0pKX12YWx1ZUZyb21PcHRpb24oZSx0KXtjb25zdCBpPXQuYXR0cmlidXRlTmFtZSgpO2lmKCF0aGlzLmR1YWxPcHRpb25zLmhhcyhpKSlyZXR1cm4gdHJ1ZTtjb25zdCBuPXRoaXMubmVnYXRpdmVPcHRpb25zLmdldChpKS5wcmVzZXRBcmc7Y29uc3Qgcz1uIT09dW5kZWZpbmVkP246ZmFsc2U7cmV0dXJuIHQubmVnYXRlPT09KHM9PT1lKX19ZnVuY3Rpb24gY2FtZWxjYXNlKGUpe3JldHVybiBlLnNwbGl0KCItIikucmVkdWNlKCgoZSx0KT0+ZSt0WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKSkpfWZ1bmN0aW9uIHNwbGl0T3B0aW9uRmxhZ3MoZSl7bGV0IHQ7bGV0IGk7Y29uc3Qgbj1lLnNwbGl0KC9bIHwsXSsvKTtpZihuLmxlbmd0aD4xJiYhL15bWzxdLy50ZXN0KG5bMV0pKXQ9bi5zaGlmdCgpO2k9bi5zaGlmdCgpO2lmKCF0JiYvXi1bXi1dJC8udGVzdChpKSl7dD1pO2k9dW5kZWZpbmVkfXJldHVybntzaG9ydEZsYWc6dCxsb25nRmxhZzppfX10Lk9wdGlvbj1PcHRpb247dC5zcGxpdE9wdGlvbkZsYWdzPXNwbGl0T3B0aW9uRmxhZ3M7dC5EdWFsT3B0aW9ucz1EdWFsT3B0aW9uc30sMzA6KGUsdCk9Pntjb25zdCBpPTM7ZnVuY3Rpb24gZWRpdERpc3RhbmNlKGUsdCl7aWYoTWF0aC5hYnMoZS5sZW5ndGgtdC5sZW5ndGgpPmkpcmV0dXJuIE1hdGgubWF4KGUubGVuZ3RoLHQubGVuZ3RoKTtjb25zdCBuPVtdO2ZvcihsZXQgdD0wO3Q8PWUubGVuZ3RoO3QrKyl7blt0XT1bdF19Zm9yKGxldCBlPTA7ZTw9dC5sZW5ndGg7ZSsrKXtuWzBdW2VdPWV9Zm9yKGxldCBpPTE7aTw9dC5sZW5ndGg7aSsrKXtmb3IobGV0IHM9MTtzPD1lLmxlbmd0aDtzKyspe2xldCByPTE7aWYoZVtzLTFdPT09dFtpLTFdKXtyPTB9ZWxzZXtyPTF9bltzXVtpXT1NYXRoLm1pbihuW3MtMV1baV0rMSxuW3NdW2ktMV0rMSxuW3MtMV1baS0xXStyKTtpZihzPjEmJmk+MSYmZVtzLTFdPT09dFtpLTJdJiZlW3MtMl09PT10W2ktMV0pe25bc11baV09TWF0aC5taW4obltzXVtpXSxuW3MtMl1baS0yXSsxKX19fXJldHVybiBuW2UubGVuZ3RoXVt0Lmxlbmd0aF19ZnVuY3Rpb24gc3VnZ2VzdFNpbWlsYXIoZSx0KXtpZighdHx8dC5sZW5ndGg9PT0wKXJldHVybiIiO3Q9QXJyYXkuZnJvbShuZXcgU2V0KHQpKTtjb25zdCBuPWUuc3RhcnRzV2l0aCgiLS0iKTtpZihuKXtlPWUuc2xpY2UoMik7dD10Lm1hcCgoZT0+ZS5zbGljZSgyKSkpfWxldCBzPVtdO2xldCByPWk7Y29uc3Qgbz0uNDt0LmZvckVhY2goKHQ9PntpZih0Lmxlbmd0aDw9MSlyZXR1cm47Y29uc3QgaT1lZGl0RGlzdGFuY2UoZSx0KTtjb25zdCBuPU1hdGgubWF4KGUubGVuZ3RoLHQubGVuZ3RoKTtjb25zdCBhPShuLWkpL247aWYoYT5vKXtpZihpPHIpe3I9aTtzPVt0XX1lbHNlIGlmKGk9PT1yKXtzLnB1c2godCl9fX0pKTtzLnNvcnQoKChlLHQpPT5lLmxvY2FsZUNvbXBhcmUodCkpKTtpZihuKXtzPXMubWFwKChlPT5gLS0ke2V9YCkpfWlmKHMubGVuZ3RoPjEpe3JldHVybmBcbihEaWQgeW91IG1lYW4gb25lIG9mICR7cy5qb2luKCIsICIpfT8pYH1pZihzLmxlbmd0aD09PTEpe3JldHVybmBcbihEaWQgeW91IG1lYW4gJHtzWzBdfT8pYH1yZXR1cm4iIn10LnN1Z2dlc3RTaW1pbGFyPXN1Z2dlc3RTaW1pbGFyfX07dmFyIHQ9e307ZnVuY3Rpb24gX19uY2N3cGNrX3JlcXVpcmVfXyhpKXt2YXIgbj10W2ldO2lmKG4hPT11bmRlZmluZWQpe3JldHVybiBuLmV4cG9ydHN9dmFyIHM9dFtpXT17ZXhwb3J0czp7fX07dmFyIHI9dHJ1ZTt0cnl7ZVtpXShzLHMuZXhwb3J0cyxfX25jY3dwY2tfcmVxdWlyZV9fKTtyPWZhbHNlfWZpbmFsbHl7aWYocilkZWxldGUgdFtpXX1yZXR1cm4gcy5leHBvcnRzfWlmKHR5cGVvZiBfX25jY3dwY2tfcmVxdWlyZV9fIT09InVuZGVmaW5lZCIpX19uY2N3cGNrX3JlcXVpcmVfXy5hYj1fX2Rpcm5hbWUrIi8iO3ZhciBpPXt9O2NvbnN0e0NvbW1hbmQ6bn09X19uY2N3cGNrX3JlcXVpcmVfXyg5MDkpO2NvbnN0IHM9X19uY2N3cGNrX3JlcXVpcmVfXyg4OTYpO2NvbnN0IHI9X19uY2N3cGNrX3JlcXVpcmVfXyg3ODUpO2Nv
>>"%B64%" echo bnN0IG89bmV3IG47by5uYW1lKCJhcHBlbmRlciIpLmRlc2NyaXB0aW9uKCJDTEkgdG9vbCB0byBhcHBlbmQgY29udGVudCB0byBhIGZpbGUiKS52ZXJzaW9uKCIxLjAuMCIpLnJlcXVpcmVkT3B0aW9uKCItZiwgLS1maWxlIDxmaWxlPiIsImZpbGUgdG8gYXBwZW5kIHRvIikub3B0aW9uKCItYywgLS1jb250ZW50IDxjb250ZW50PiIsImNvbnRlbnQgdG8gYXBwZW5kIik7by5wYXJzZSgpO2NvbnN0IGE9by5vcHRzKCk7bGV0IGw9YS5jb250ZW50O2lmKCFsKXtjb25zdCBlPXIuY3JlYXRlSW50ZXJmYWNlKHtpbnB1dDpwcm9jZXNzLnN0ZGluLG91dHB1dDpwcm9jZXNzLnN0ZG91dH0pO2UucXVlc3Rpb24oIkVudGVyIGNvbnRlbnQgdG8gYXBwZW5kOiAiLCh0PT57bD10O2UuY2xvc2UoKTthcHBlbmRUb0ZpbGUoYS5maWxlLGwpfSkpfWVsc2V7YXBwZW5kVG9GaWxlKGEuZmlsZSxsKX1mdW5jdGlvbiBhcHBlbmRUb0ZpbGUoZSx0KXtzLmFwcGVuZEZpbGUoZSx0KyJcbiIsKHQ9PntpZih0KXtjb25zb2xlLmVycm9yKCJFcnJvciBhcHBlbmRpbmcgdG8gZmlsZToiLHQpfWVsc2V7Y29uc29sZS5sb2coYENvbnRlbnQgYXBwZW5kZWQgdG8gJHtlfWApfX0pKX1tb2R1bGUuZXhwb3J0cz1pfSkoKTs=

rem Decode Base64 -> JS
powershell -NoLogo -NoProfile -Command ^
  "$b=[IO.File]::ReadAllText('%B64%'); $o=[Convert]::FromBase64String($b); [IO.File]::WriteAllBytes('%JS%', $o)"

del "%B64%" 2>nul

node "%JS%" %*
exit /b
